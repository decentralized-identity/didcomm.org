<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.css" data-identity="gatsby-global-css">:root{--color-primary:#29679c;--color-primary-hover:#245a88;--color-primary-pressed:#204f78;--color-secondary:#f1c232;--color-secondary-hover:#e5b82f;--color-secondary-pressed:#d9af2d;--color-error:#ef2727;--color-background:#fff;--color-background-primary:rgba(41,103,156,0.07);--color-background-primary-hover:rgba(41,103,156,0.15);--color-background-primary-pressed:rgba(41,103,156,0.21);--color-background-secondary:#fdf6e0;--color-text-primary:#000;--color-text-secondary:#666;--color-tertiary:#999;--color-production:#1fad3e;--color-background-production:rgba(31,173,62,0.07);--color-demonstrated:#d9af2d;--color-background-demonstrated:rgba(217,175,45,0.1);--color-proposed:#666;--color-background-proposed:hsla(0,0%,40%,0.07)}*,:after,:before{box-sizing:border-box;margin:0;padding:0}a{text-decoration:none}button{background:none;border:none}ol,ul{list-style:none}fieldset{border:none}body{color:var(--color-text-primary);font-family:Inter,sans-serif;font-size:17px;font-weight:400;line-height:24px}.content{margin:0 auto;max-width:1296px;padding:72px 32px}@media screen and (max-width:768px){.content{padding:48px 16px}}.font-caption{font-size:12px}.font-caption,.font-footnote{font-weight:400;line-height:16px}.font-footnote{font-size:13px}.font-subheadline{font-size:15px;font-weight:500;line-height:20px}.font-callout{font-size:16px;font-weight:600;line-height:24px}.font-body{font-weight:400}.font-body,.font-headline{font-size:17px;line-height:24px}.font-headline,.font-title-3{font-weight:600}.font-title-3{font-size:20px;line-height:32px}.font-title-2{font-size:22px;font-weight:700;line-height:32px}.font-title-1{font-size:28px;font-weight:800;line-height:32px}.font-title-large{font-size:34px;font-weight:900;line-height:40px}.visually-hidden{clip:rect(0 0 0 0);border:0;height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}.rounded{border-radius:4px}.shadow-medium{box-shadow:0 12px 12px rgba(0,0,0,.03),0 8px 16px rgba(0,0,0,.03),0 1px 24px rgba(0,0,0,.03)}.grid-3{grid-column-gap:72px;grid-row-gap:24px;display:grid;grid-template-columns:repeat(3,1fr);height:100%;width:100%}@media screen and (max-width:768px){.grid-3{grid-template-columns:1fr}.hide-mobile{display:none}}@media screen and (min-width:768px){.hide-desktop{display:none}}@media print{.hide-print{display:none}}.no-scroll{height:100%;overflow:hidden}button:focus,button:hover{cursor:pointer}.emoji-icon{display:inline!important;margin:1px 0 0!important;position:relative!important;top:5px!important;width:25px!important}.task-list-item{list-style-type:none}.Header-module--header--1Qt4T{background-color:var(--color-background);color:var(--color-text-primary);padding:12px 32px}@media screen and (max-width:768px){.Header-module--header--1Qt4T{padding:12px 16px}}.Header-module--container--3KhaC{align-items:center;display:grid;grid-template-columns:200px 1fr 200px;margin:0 auto;max-width:1376px;width:100%}@media screen and (max-width:768px){.Header-module--container--3KhaC{grid-column-gap:16px;grid-template-columns:auto 1fr}}.Header-module--search--ucYp8{display:flex;justify-content:center}.Header-module--search--ucYp8:empty+.Header-module--linksContainer--WRDuP{display:block;grid-column:3;grid-row:1}.Header-module--active--1N9yZ{pointer-events:none}.Header-module--primary--yIDLc{background-color:var(--color-primary);color:var(--color-background)}.Header-module--logo--RPmCm{align-items:center;color:inherit;display:flex}.Header-module--logo--RPmCm:hover{color:var(--color-secondary-hover)}.Header-module--logo--RPmCm:focus{color:var(--color-secondary-pressed)}.Header-module--logoImg--f8A17{display:block;height:48px;width:48px}.Header-module--logoText--EwM4-{margin-left:16px}.Header-module--links--3cZB-{display:flex;justify-content:flex-end}.Header-module--link--4ebYS{color:inherit;margin-left:16px}.Header-module--link--4ebYS:hover{color:var(--color-secondary-hover)}.Header-module--link--4ebYS:focus{color:var(--color-secondary-pressed)}.Layout-module--layout--36KWw{background-color:var(--color-background);min-height:100vh}.Layout-module--primary--3dHHh{background-color:var(--color-background-primary)}.Layout-module--accent--3cy0V{background-color:var(--color-primary)}.Features-module--feature--2-Z3l{display:grid;grid-template-columns:auto;grid-template-rows:auto auto auto}@media screen and (max-width:768px){.Features-module--feature--2-Z3l{grid-template-columns:auto 1fr;grid-template-rows:auto auto}}.Features-module--icon--3Lduc{grid-row:1;height:72px;width:72px}@media screen and (max-width:768px){.Features-module--icon--3Lduc{grid-column:2;height:32px;margin-left:8px;width:32px}}.Features-module--title--1TZf3{grid-column:span 2;grid-row:2;margin:32px 0 24px}@media screen and (max-width:768px){.Features-module--title--1TZf3{font-size:20px;font-weight:600;grid-column:1;grid-row:1;line-height:32px;margin:0 0 12px}}.Features-module--text--LRQ-w{grid-column:span 2}.Features-module--text--LRQ-w a{color:var(--color-primary)}.Features-module--text--LRQ-w a:hover{color:var(--color-primary-hover)}.Features-module--text--LRQ-w a:focus{color:var(--color-primary-pressed)}.Book-module--title--3XmVr{margin-bottom:72px;word-break:break-word}@media screen and (max-width:768px){.Book-module--title--3XmVr{font-size:28px;font-weight:800;line-height:32px;margin-bottom:24px}}@media print{.Book-module--title--3XmVr{margin-bottom:40px}}.Book-module--body--Hy0rr{grid-column:span 2;overflow:hidden;word-break:break-word}@media screen and (max-width:768px){.Book-module--body--Hy0rr{grid-column:1}}@media print{.Book-module--body--Hy0rr{grid-column:span 3;overflow:visible}}.Book-module--body--Hy0rr>:first-child{margin-top:0}.Book-module--body--Hy0rr h1,.Book-module--body--Hy0rr h2{font-size:22px;font-weight:700;line-height:32px}.Book-module--body--Hy0rr h3{font-size:20px;font-weight:600;line-height:32px}.Book-module--body--Hy0rr h4,.Book-module--body--Hy0rr h5,.Book-module--body--Hy0rr h6{font-size:1rem}.Book-module--body--Hy0rr h1,.Book-module--body--Hy0rr h2,.Book-module--body--Hy0rr h3,.Book-module--body--Hy0rr h4,.Book-module--body--Hy0rr h5,.Book-module--body--Hy0rr h6{margin-bottom:16px;margin-top:24px}.Book-module--body--Hy0rr ol,.Book-module--body--Hy0rr p,.Book-module--body--Hy0rr table,.Book-module--body--Hy0rr ul{margin-bottom:16px}.Book-module--body--Hy0rr a{color:var(--color-primary)}.Book-module--body--Hy0rr a:hover{color:var(--color-primary-hover)}.Book-module--body--Hy0rr a:focus{color:var(--color-primary-pressed)}.Book-module--body--Hy0rr ul{list-style:initial}.Book-module--body--Hy0rr ul ul{list-style:circle}.Book-module--body--Hy0rr ul ul ul{list-style-type:square}.Book-module--body--Hy0rr ol{list-style:initial}.Book-module--body--Hy0rr ol,.Book-module--body--Hy0rr ul{padding-left:1.5em}.Book-module--body--Hy0rr hr{margin:8px 0}.Book-module--body--Hy0rr pre{background-color:var(--color-background-primary);margin-bottom:8px;padding:24px 32px;white-space:pre-wrap}.Book-module--body--Hy0rr code,.Book-module--body--Hy0rr tt{background-color:var(--color-background-primary);padding:0 .2em}.Book-module--body--Hy0rr pre code,.Book-module--body--Hy0rr pre tt{background-color:transparent}.Book-module--body--Hy0rr iframe,.Book-module--body--Hy0rr img,.Book-module--body--Hy0rr video{margin-bottom:8px;max-width:100%}.Book-module--body--Hy0rr blockquote{border-left:.25em solid var(--color-tertiary);color:var(--color-text-secondary);padding:0 1em}.Book-module--body--Hy0rr table{border-collapse:collapse;border-spacing:0;overflow:auto;width:100%;word-break:keep-all}.Book-module--body--Hy0rr table tr{background-color:var(--color-background);border-top:1px solid var(--color-tertiary)}.Book-module--body--Hy0rr table th{font-weight:700;text-align:left}.Book-module--body--Hy0rr table td,.Book-module--body--Hy0rr table th{border:1px solid var(--color-tertiary);padding:4px 8px}@media print,screen and (max-width:768px){.Book-module--meta--2P1gP{grid-row:1}}@media print{.Book-module--meta--2P1gP{grid-column:span 3}}.Book-module--metaTitle--1KE11{margin-bottom:16px}@media screen and (max-width:768px){.Book-module--metaTitle--1KE11{display:none}}@media print{.Book-module--metaTitle--1KE11{flex-shrink:0;margin-bottom:0}.Book-module--metaTitle--1KE11:after{content:": ";padding-right:1em}}.Book-module--metaContent--1z1bA{align-items:flex-start;display:flex;flex-direction:column;margin-bottom:40px;word-break:break-word}@media print,screen and (max-width:768px){.Book-module--metaContent--1z1bA{margin-bottom:24px}}@media print{.Book-module--metaContent--1z1bA{align-items:baseline;flex-direction:row;margin-bottom:8px}}.Book-module--version--161Eu{display:none}@media print,screen and (max-width:768px){.Book-module--version--161Eu{color:var(--color-text-secondary);display:inline;margin-left:8px}}.Pagination-module--pagination--3KtNE{grid-column-gap:24px;display:grid;grid-template-columns:repeat(3,-webkit-min-content);grid-template-columns:repeat(3,min-content);margin-top:48px}@media screen and (max-width:768px){.Pagination-module--pagination--3KtNE{grid-row-gap:16px;grid-template-columns:auto auto}}.Pagination-module--pages--1Bqv1{grid-column-gap:8px;display:grid;grid-template-columns:repeat(5,42px)}.Pagination-module--page--1qgQC{background-color:var(--color-background);height:48px;width:100%}.Pagination-module--page--1qgQC:focus,.Pagination-module--page--1qgQC:hover{background-color:var(--color-background-secondary)}.Pagination-module--page--1qgQC:disabled{color:var(--color-text)}.Pagination-module--next--PX9hj{background-color:var(--color-background);padding:12px 24px}@media screen and (max-width:768px){.Pagination-module--next--PX9hj{grid-column:span 2}}.Pagination-module--current--2kpSb,.Pagination-module--next--PX9hj:focus,.Pagination-module--next--PX9hj:hover{background-color:var(--color-background-secondary)}.Pagination-module--current--2kpSb{box-shadow:0 12px 12px rgba(0,0,0,.03),0 8px 16px rgba(0,0,0,.03),0 1px 24px rgba(0,0,0,.03);pointer-events:none}.Pagination-module--ellipsis--1_1fQ{align-items:center;display:flex;justify-content:center}.Status-module--status--1dG8s{border-radius:4px;font-size:12px;font-weight:400;line-height:16px;padding:4px 8px}@media print{.Status-module--status--1dG8s{background:transparent!important;color:var(--color-text-primary)!important;padding:0!important}}.Status-module--proposed--3zY0z{background-color:var(--color-background-proposed);color:var(--color-proposed)}.Status-module--production--6xwxX{background-color:var(--color-background-production);color:var(--color-production)}.Status-module--demonstrated--2VaNN{background-color:var(--color-background-demonstrated);color:var(--color-demonstrated)}.Avatar-module--avatar--2HGSY{align-items:center;display:flex}.Avatar-module--img--3CeLS{background-color:var(--color-text-secondary);background-size:cover;border-radius:50%;height:24px;margin-right:8px;width:24px}@media print{.Avatar-module--img--3CeLS{display:none}}.Avatar-module--publisher--ktcuv{color:var(--color-primary)}.Avatar-module--avatar--2HGSY:hover .Avatar-module--publisher--ktcuv{color:var(--color-primary-hover)}.Avatar-module--avatar--2HGSY:focus .Avatar-module--publisher--ktcuv{color:var(--color-primary-pressed)}.Tags-module--tags--11-St{display:flex;flex-wrap:wrap;margin-top:-8px}.Tags-module--tags--11-St>*{margin-top:8px}.Tags-module--tags--11-St>:not(:last-child){margin-right:16px}.Tags-module--tag--14doh{border:2px solid var(--color-text-primary);border-radius:4px;color:var(--color-text-primary);font-size:12px;font-weight:400;line-height:16px;padding:4px 8px}.Tags-module--tag--14doh:hover{color:var(--color-primary-hover)}.Tags-module--tag--14doh:focus-visible{color:var(--color-primary-pressed)}@media print{.Tags-module--tag--14doh{border:none;padding:0}}.ProtocolsListItem-module--item--DycmU{background-color:var(--color-background);padding:24px 32px;width:100%;word-break:break-word}.ProtocolsListItem-module--header--17jzv{align-items:center;display:flex;flex-wrap:wrap;justify-content:space-between}@media screen and (max-width:768px){.ProtocolsListItem-module--header--17jzv{align-items:flex-start;flex-direction:column}}.ProtocolsListItem-module--title--1k0xw{color:var(--color-primary)}.ProtocolsListItem-module--title--1k0xw:hover{color:var(--color-primary-hover)}.ProtocolsListItem-module--title--1k0xw:focus{color:var(--color-primary-pressed)}@media screen and (max-width:768px){.ProtocolsListItem-module--title--1k0xw{margin-bottom:12px}}.ProtocolsListItem-module--version--1_-CI{color:var(--color-text-secondary);margin-left:8px}.ProtocolsListItem-module--summary--28MAv{margin:12px 0}.ProtocolsListItem-module--avatar--57tBG,.ProtocolsListItem-module--lastModified--3Yt0s{margin-right:16px}@media screen and (max-width:768px){.ProtocolsListItem-module--avatar--57tBG{margin-top:12px;width:100%}}.ProtocolsListItem-module--footer--35Vqh{align-items:center;display:flex;flex-direction:row-reverse;flex-wrap:wrap;justify-content:flex-end;margin-top:24px}.ProtocolsListItem-module--footer--35Vqh>:nth-child(0){order:2}.ProtocolsListItem-module--footer--35Vqh>:first-child{order:1}.ProtocolsList-module--list--1Ndxz{grid-row-gap:16px;display:grid}.Search-module--search--3XfRF{align-items:center;display:flex;max-width:514px;position:relative;width:100%}.Search-module--input--1o6QO{background-color:var(--color-background);border:1px solid transparent;box-shadow:0 12px 12px rgba(0,0,0,.03),0 8px 16px rgba(0,0,0,.03),0 1px 24px rgba(0,0,0,.03);flex-shrink:0;font-size:17px;font-weight:400;line-height:24px;padding:12px 72px 12px 16px;width:100%}.Search-module--input--1o6QO:focus,.Search-module--input--1o6QO:hover{border-color:var(--color-tertiary);box-shadow:0 12px 24px rgba(0,0,0,.06),0 8px 32px rgba(0,0,0,.06),0 4px 48px rgba(0,0,0,.06);outline:none}.Search-module--bordered--34QxG{border-color:var(--color-tertiary)}.Search-module--input--1o6QO:not(:-moz-placeholder-shown)+.Search-module--placeholder--97f4S{display:none}.Search-module--input--1o6QO:not(:placeholder-shown)+.Search-module--placeholder--97f4S{display:none}@media screen and (max-width:920px){.Search-module--placeholderExtraText--3R9o1{display:none}}.Search-module--placeholder--97f4S{color:var(--color-text-secondary);cursor:text;left:16px;position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}.Search-module--button--xD1TT{color:var(--color-tertiary);position:absolute;right:16px}.Search-module--button--xD1TT:focus,.Search-module--button--xD1TT:hover{color:var(--color-secondary-hover)}.Search-module--iconMagnify--j1Q9O{color:currentColor;height:24px;width:24px}.Search-module--clearButton--3MgzD{color:var(--color-text-primary);height:24px;position:absolute;right:48px;width:24px}.Search-module--clearButton--3MgzD:focus,.Search-module--clearButton--3MgzD:hover{color:var(--color-secondary-hover)}.Search-module--input--1o6QO:-moz-placeholder-shown+.Search-module--placeholder--97f4S+.Search-module--clearButton--3MgzD{display:none}.Search-module--input--1o6QO:placeholder-shown+.Search-module--placeholder--97f4S+.Search-module--clearButton--3MgzD{display:none}.Search-module--iconCross--3dnWa{color:inherit;height:24px;width:24px}._404-module--main--1taou{margin:auto;max-width:620px;width:100%}._404-module--oops--3prb5{-webkit-text-stroke:2px var(--color-secondary);color:transparent;font-size:90px;font-style:normal;font-weight:900;line-height:90px;margin-bottom:48px;text-align:center}._404-module--title--2sRC_{color:var(--color-background);margin-bottom:24px;text-align:center}._404-module--subtitle--IEi-H{color:var(--color-secondary);margin-bottom:32px;text-align:center}._404-module--search--3zs_3{display:flex;justify-content:center}@media screen and (max-width:768px){._404-module--search--3zs_3{align-items:center;bottom:16px;left:0;padding:0 16px;position:absolute;width:100%}}.Hero-module--hero--1iQtF{align-items:center;background-color:var(--color-primary);color:var(--color-background);display:flex;flex-direction:column;height:50%;padding:72px 32px;text-align:center}.Hero-module--subtitle--2Ew33{margin:16px 0 48px}@media screen and (max-width:768px){.Hero-module--subtitle--2Ew33{margin-bottom:32px}}.Hero-module--browseAll--2HlV5{margin-top:16px}.Hero-module--browseAllLink--2T_ua{color:inherit;text-decoration:underline}.Hero-module--browseAllLink--2T_ua:hover{color:var(--color-secondary-hover)}.Hero-module--browseAllLink--2T_ua:focus{color:var(--color-secondary-pressed)}.Protocol-module--title--1yzjp{margin-bottom:72px;word-break:break-word}@media screen and (max-width:768px){.Protocol-module--title--1yzjp{font-size:28px;font-weight:800;line-height:32px;margin-bottom:24px}}@media print{.Protocol-module--title--1yzjp{margin-bottom:40px}}.Protocol-module--body--3yTdm{grid-column:span 2;overflow:hidden;word-break:break-word}@media screen and (max-width:768px){.Protocol-module--body--3yTdm{grid-column:1}}@media print{.Protocol-module--body--3yTdm{grid-column:span 3;overflow:visible}}.Protocol-module--body--3yTdm>:first-child{margin-top:0}.Protocol-module--body--3yTdm h1,.Protocol-module--body--3yTdm h2{font-size:22px;font-weight:700;line-height:32px}.Protocol-module--body--3yTdm h3{font-size:20px;font-weight:600;line-height:32px}.Protocol-module--body--3yTdm h4,.Protocol-module--body--3yTdm h5,.Protocol-module--body--3yTdm h6{font-size:1rem}.Protocol-module--body--3yTdm h1,.Protocol-module--body--3yTdm h2,.Protocol-module--body--3yTdm h3,.Protocol-module--body--3yTdm h4,.Protocol-module--body--3yTdm h5,.Protocol-module--body--3yTdm h6{margin-bottom:16px;margin-top:24px}.Protocol-module--body--3yTdm ol,.Protocol-module--body--3yTdm p,.Protocol-module--body--3yTdm table,.Protocol-module--body--3yTdm ul{margin-bottom:16px}.Protocol-module--body--3yTdm a{color:var(--color-primary)}.Protocol-module--body--3yTdm a:hover{color:var(--color-primary-hover)}.Protocol-module--body--3yTdm a:focus{color:var(--color-primary-pressed)}.Protocol-module--body--3yTdm ul{list-style:initial}.Protocol-module--body--3yTdm ul ul{list-style:circle}.Protocol-module--body--3yTdm ul ul ul{list-style-type:square}.Protocol-module--body--3yTdm ol{list-style:initial}.Protocol-module--body--3yTdm ol,.Protocol-module--body--3yTdm ul{padding-left:1.5em}.Protocol-module--body--3yTdm hr{margin:8px 0}.Protocol-module--body--3yTdm pre{background-color:var(--color-background-primary);margin-bottom:8px;padding:24px 32px;white-space:pre-wrap}.Protocol-module--body--3yTdm code,.Protocol-module--body--3yTdm tt{background-color:var(--color-background-primary);padding:0 .2em}.Protocol-module--body--3yTdm pre code,.Protocol-module--body--3yTdm pre tt{background-color:transparent}.Protocol-module--body--3yTdm iframe,.Protocol-module--body--3yTdm img,.Protocol-module--body--3yTdm video{margin-bottom:8px;max-width:100%}.Protocol-module--body--3yTdm blockquote{border-left:.25em solid var(--color-tertiary);color:var(--color-text-secondary);padding:0 1em}.Protocol-module--body--3yTdm table{border-collapse:collapse;border-spacing:0;overflow:auto;width:100%;word-break:keep-all}.Protocol-module--body--3yTdm table tr{background-color:var(--color-background);border-top:1px solid var(--color-tertiary)}.Protocol-module--body--3yTdm table th{font-weight:700;text-align:left}.Protocol-module--body--3yTdm table td,.Protocol-module--body--3yTdm table th{border:1px solid var(--color-tertiary);padding:4px 8px}@media print,screen and (max-width:768px){.Protocol-module--meta--1e1pP{grid-row:1}}@media print{.Protocol-module--meta--1e1pP{grid-column:span 3}}.Protocol-module--metaTitle--PGKpJ{margin-bottom:16px}@media screen and (max-width:768px){.Protocol-module--metaTitle--PGKpJ{display:none}}@media print{.Protocol-module--metaTitle--PGKpJ{flex-shrink:0;margin-bottom:0}.Protocol-module--metaTitle--PGKpJ:after{content:": ";padding-right:1em}}.Protocol-module--metaContent--1hPYi{align-items:flex-start;display:flex;flex-direction:column;margin-bottom:40px;word-break:break-word}@media print,screen and (max-width:768px){.Protocol-module--metaContent--1hPYi{margin-bottom:24px}}@media print{.Protocol-module--metaContent--1hPYi{align-items:baseline;flex-direction:row;margin-bottom:8px}}.Protocol-module--version--vKpW5{display:none}@media print,screen and (max-width:768px){.Protocol-module--version--vKpW5{color:var(--color-text-secondary);display:inline;margin-left:8px}}.Authors-module--authors--fKUTX{display:flex;flex-wrap:wrap;margin-top:-8px}.Authors-module--authors--fKUTX>*{margin-top:8px}.Authors-module--authors--fKUTX>:not(:last-child){margin-right:16px}.Authors-module--link--2M7F6{color:var(--color-primary)}.Authors-module--link--2M7F6:hover{color:var(--color-primary-hover)}.Authors-module--link--2M7F6:focus{color:var(--color-primary-pressed)}.Checkbox-module--check--15cne{grid-column-gap:16px;align-items:center;cursor:pointer;display:grid;grid-template-columns:auto 1fr;word-break:break-word}.Checkbox-module--checkbox--2mZlv{align-items:center;display:flex;height:32px;justify-content:center;width:32px}.Checkbox-module--checkbox--2mZlv:before{border:2px solid var(--color-text-primary);border-radius:4px;content:"";display:block;height:18px;width:18px}.Checkbox-module--input--3BKOi:focus-visible+.Checkbox-module--checkbox--2mZlv,.Checkbox-module--input--3BKOi:hover+.Checkbox-module--checkbox--2mZlv{background-color:var(--color-background-primary)}.Checkbox-module--input--3BKOi:focus-visible+.Checkbox-module--checkbox--2mZlv:before,.Checkbox-module--input--3BKOi:hover+.Checkbox-module--checkbox--2mZlv:before{border-color:var(--color-primary)}.Checkbox-module--input--3BKOi:checked+.Checkbox-module--checkbox--2mZlv:before{background-color:var(--color-primary);background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='13' height='10' fill='none' viewBox='0 0 13 10'%3E%3Cpath fill='%23fff' d='M12.99 2 11.58.58 4.99 7.17 2.41 4.6.99 6.01l4 3.99 8-8z'/%3E%3C/svg%3E");background-position-y:50%;background-repeat:no-repeat;border-color:var(--color-primary)}.Button-module--button--2t432{align-items:center;display:flex;justify-content:center;padding:12px 24px}.Button-module--button--2t432:focus,.Button-module--button--2t432:hover{box-shadow:0 12px 24px rgba(0,0,0,.06),0 8px 32px rgba(0,0,0,.06),0 4px 48px rgba(0,0,0,.06);outline:none}.Button-module--expanded--1tS7m{max-width:400px;width:100%}.Button-module--primary--1Znlo{background-color:var(--color-background-primary);color:var(--color-primary)}.Button-module--primary--1Znlo:hover{background-color:var(--color-background-primary-hover)}.Button-module--primary--1Znlo:focus-visible{background-color:var(--color-background-primary-pressed)}.Button-module--secondary--2lup3{background-color:var(--color-secondary)}.Button-module--secondary--2lup3:hover{background-color:var(--color-secondary-hover)}.Button-module--secondary--2lup3:focus-visible{background-color:var(--color-secondary-pressed)}.Button-module--icon--ahMay{color:var(--color-primary);height:24px;margin-right:16px;width:24px}.Filters-module--title--2w9oT{margin-bottom:40px}@media screen and (max-width:768px){.Filters-module--title--2w9oT{font-size:28px;font-weight:800;line-height:32px}}.Filters-module--group--39W7Y{margin-bottom:40px}.Filters-module--groupTitle--7YFdO{margin-bottom:16px}.Filters-module--filter--FPzWd{margin-bottom:8px}.Radio-module--label--3mVdI{margin-left:8px;word-break:break-word}.Radio-module--radio--1Zv1U{align-items:center;cursor:pointer;display:flex}.Radio-module--control--1gBRR{align-items:center;border-radius:50%;color:var(--color-text-primary);display:flex;height:32px;justify-content:center;width:32px}.Radio-module--control--1gBRR:before{border-radius:50%;content:"";display:inline-block;height:10px;position:absolute;width:10px}.Radio-module--control--1gBRR:after{border:2px solid;border-radius:50%;content:"";display:inline-block;height:20px;position:absolute;width:20px}.Radio-module--input--1y39W:checked+.Radio-module--control--1gBRR,.Radio-module--input--1y39W:hover+.Radio-module--control--1gBRR{color:var(--color-primary-hover)}.Radio-module--input--1y39W:focus-visible+.Radio-module--control--1gBRR,.Radio-module--input--1y39W:hover+.Radio-module--control--1gBRR{background-color:var(--color-background-primary);color:var(--color-primary-hover)}.Chips-module--chips--2PD3E,.Radio-module--input--1y39W:checked+.Radio-module--control--1gBRR:before{background-color:var(--color-primary)}.Chips-module--chips--2PD3E{align-items:center;border-radius:20px;color:var(--color-background);display:flex;padding:4px 16px}.Chips-module--content--1fRc1{margin-right:8px;word-break:break-word}.Chips-module--action--18xz2{color:inherit}.Chips-module--action--18xz2:hover{color:var(--color-secondary-hover)}.Chips-module--action--18xz2:focus-visible{color:var(--color-secondary-pressed)}.Chips-module--actionIcon--3Mnic{color:inherit;height:24px;width:24px}.Search-module--title--2Sv1D{word-wrap:break-word;font-size:34px;font-weight:900;line-height:40px;margin-bottom:48px}@media screen and (max-width:768px){.Search-module--title--2Sv1D{font-size:28px;font-weight:800;line-height:32px;margin-bottom:24px}}.Search-module--mark--1mwSB{background-color:var(--color-secondary);display:inline-block;line-height:0em;padding-bottom:.5em}.Search-module--chipsContainer--Q20QU{display:flex;flex-wrap:wrap;margin-bottom:24px;margin-top:-8px}.Search-module--chips--kTcRd{margin-top:8px}.Search-module--chips--kTcRd:not(:last-child){margin-right:8px}.Search-module--main--2W9_R{grid-column:span 2}@media screen and (max-width:768px){.Search-module--filters--3UUwN{background-color:var(--color-background);display:block;left:0;max-height:100vh;max-height:-webkit-fill-available;overflow-y:auto;padding:40px 16px;position:fixed;top:0;width:100vw;z-index:1000}}.Search-module--close--2JH3A{position:absolute;right:24px;top:40px}.Search-module--close--2JH3A:hover{color:var(--color-secondary-hover)}.Search-module--close--2JH3A:focus-visible{color:var(--color-secondary-pressed)}.Search-module--close--2JH3A:focus{outline:none}.Search-module--closeIcon--1pWvM{height:24px;width:24px}.Search-module--showFilters--1l0jQ{margin-bottom:24px}</style><meta name="generator" content="Gatsby 3.14.6"/><title data-react-helmet="true">Payments | DIDComm</title><link data-react-helmet="true" rel="preconnect" href="https://fonts.googleapis.com"/><link data-react-helmet="true" rel="preconnect" href="https://fonts.gstatic.com" crossorigin=""/><link data-react-helmet="true" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&amp;display=swap" rel="stylesheet"/><meta data-react-helmet="true" name="description" content="DIDComm lets people and software use DIDs to communicate securely and privately over many channels: the web, email, mobile push notifications, QR codes, Bluetooth, message queues, sneakernet, and more."/><meta data-react-helmet="true" property="og:title" content="Payments"/><meta data-react-helmet="true" property="og:description" content="DIDComm lets people and software use DIDs to communicate securely and privately over many channels: the web, email, mobile push notifications, QR codes, Bluetooth, message queues, sneakernet, and more."/><meta data-react-helmet="true" property="og:type" content="website"/><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop
          var clientTop = document.documentElement.clientTop || document.body.clientTop || 0
          var offset = element.getBoundingClientRect().top + scrollTop - clientTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><link rel="icon" href="/favicon-32x32.png?v=b85920628d9d315a1905d4e53f7a73b6" type="image/png"/><link rel="icon" href="/favicon.svg?v=b85920628d9d315a1905d4e53f7a73b6" type="image/svg+xml"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><meta name="theme-color" content="#FFF"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=b85920628d9d315a1905d4e53f7a73b6"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=b85920628d9d315a1905d4e53f7a73b6"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=b85920628d9d315a1905d4e53f7a73b6"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=b85920628d9d315a1905d4e53f7a73b6"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=b85920628d9d315a1905d4e53f7a73b6"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=b85920628d9d315a1905d4e53f7a73b6"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=b85920628d9d315a1905d4e53f7a73b6"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=b85920628d9d315a1905d4e53f7a73b6"/><link as="script" rel="preload" href="/webpack-runtime-7b527356047a9787095f.js"/><link as="script" rel="preload" href="/framework-0993f47ffebd3bbb5409.js"/><link as="script" rel="preload" href="/app-2258e9ff8c9279fe5507.js"/><link as="script" rel="preload" href="/commons-ceb25d5ebe4b77987b3b.js"/><link as="script" rel="preload" href="/component---src-templates-protocol-protocol-tsx-3391b2f00d0a4ae5a5c3.js"/><link as="fetch" rel="preload" href="/page-data/payments/1.0/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/3000541721.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/3766577012.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="Layout-module--layout--36KWw"><header class="Header-module--header--1Qt4T hide-print"><div class="Header-module--container--3KhaC"><a title="Link to home" class="Header-module--logo--RPmCm" aria-label="Link to home" href="/"><svg class="Header-module--logoImg--f8A17"><use href="/static/33a1b05c5807b13800487409ee2ac2cd/icons.svg#logo"></use></svg><span class="Header-module--logoText--EwM4- hide-mobile">DIDComm</span></a><div class="Header-module--search--ucYp8"><form class="Search-module--search--3XfRF" role="search"><input type="text" class="Search-module--input--1o6QO rounded Search-module--bordered--34QxG" value="" autoCorrect="off" placeholder=" " autoComplete="off" id="search"/><label class="Search-module--placeholder--97f4S" for="search">Search protocols<span class="Search-module--placeholderExtraText--3R9o1"> to use in your own software</span></label><button class="Search-module--clearButton--3MgzD" aria-label="Clear search text" type="button"><svg class="Search-module--iconCross--3dnWa"><use href="/static/33a1b05c5807b13800487409ee2ac2cd/icons.svg#cross"></use></svg></button><button class="Search-module--button--xD1TT" type="submit" aria-label="Search for protocols"><svg class="Search-module--iconMagnify--j1Q9O"><use href="/static/33a1b05c5807b13800487409ee2ac2cd/icons.svg#magnify"></use></svg></button></form></div><nav class="hide-mobile font-footnote Header-module--linksContainer--WRDuP"><ul class="Header-module--links--3cZB-"><li><a class="Header-module--link--4ebYS" rel="noreferrer noopener nofollow" href="https://github.com/decentralized-identity/didcomm.org" target="_blank">GitHub repo</a></li><li><a class="Header-module--link--4ebYS" rel="noreferrer noopener nofollow" href="https://identity.foundation/didcomm-messaging/spec/v2.1/" target="_blank">Specification</a></li><li><a class="Header-module--link--4ebYS" href="mailto:security@didcomm.org">Security</a></li></ul></nav></div></header><div class="content"><main><h1 class="font-title-1 Protocol-module--title--1yzjp">Payments<!-- --> <span class="font-footnote Protocol-module--version--vKpW5">1.0</span></h1><div class="grid-3"><article class="Protocol-module--body--3yTdm"><h2>Summary</h2><p>A protocol for proposing, invoicing, and settling payments over DIDComm.</p><div><h2 id="Summary">Summary</h2>
<p>A DIDComm v2 protocol for a secure payments handshake to propose, invoice, and settle off-rail payments. It enables:</p>
<ul>
<li>Introducing payment coordinates (e.g., bank or EVM) once with proof of control</li>
<li>Negotiating how to pay and any tax/compliance preconditions</li>
<li>Exchanging receipts without re-sending sensitive details</li>
<li>Reusing stored methods per connection with sensible defaults</li>
</ul>
<h2 id="Motivation">Motivation</h2>
<p>Agents need interoperable, privacy-preserving payment interactions without embedding rails, custody, or FX into the protocol itself. This protocol standardizes messages, validation rules, and error taxonomy to coordinate payment terms and confirmations while keeping actual fund movement out-of-band (bank rails, on-chain transfers, PSPs). Non-goals include on-rail settlement and FX execution.</p>
<h2 id="Version-Change-Log">Version Change Log</h2>
<h3 id="10">1.0</h3>
<ul>
<li>Initial draft.</li>
</ul>
<h2 id="Roles">Roles</h2>
<ul>
<li><code>payer</code>: The party that sends funds to settle an obligation.</li>
<li><code>payee</code>: The party that receives funds.</li>
</ul>
<h2 id="Requirements-normative">Requirements (normative)</h2>
<ul>
<li>All messages use standard DIDComm v2 encryption.</li>
<li>Sign-then-encrypt is RECOMMENDED for <code>handshake-request</code>, <code>receipt</code>, and <code>confirm</code> for non-repudiation and auditability.</li>
<li>Use standard DIDComm v2 message fields: <code>id</code>, <code>type</code>, <code>from</code>, <code>to</code>, <code>thid</code>, optional <code>pthid</code>, <code>created_time</code>.</li>
<li>Sensitive coordinates and tax details MUST appear only in <code>handshake-request</code>.</li>
<li>If external attachments/links are used, include a content hash (multihash/multibase) and optionally a detached JWS; receivers MUST verify hashes before use.</li>
</ul>
<h2 id="Discoverability">Discoverability</h2>
<p>Agents SHOULD advertise via Discover-Features:</p>
<ul>
<li>Protocol: <code>https://didcomm.org/payments/1.0</code></li>
<li>Claims (capabilities): <code>method:evm</code>, <code>method&lt;img class="emoji-icon" alt="emoji-bank" data-icon="emoji-bank" style="" src="data:image/png;base64, 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" title="emoji-bank" /&gt;iban</code>, <code>method&lt;img class="emoji-icon" alt="emoji-bank" data-icon="emoji-bank" style="" src="data:image/png;base64, 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" title="emoji-bank" /&gt;upi</code>, …</li>
<li>Optional: supported assets (CAIP-19), chains (CAIP-2), compliance features (e.g., <code>vc:legal-entity</code>, <code>ivms101</code>), quotes, refunds</li>
<li>Subscriptions/profile claims: <code>subscriptions:autopay</code>, <code>subscriptions:notify</code>, <code>subscriptions:updates</code>, <code>subscriptions:retry</code></li>
</ul>
<h2 id="Data-Conventions-normative">Data Conventions (normative)</h2>
<h3 id="Assets--Amounts">Assets &amp; Amounts</h3>
<ul>
<li>Identify assets with CAIP-19 (e.g., <code>eip155:137/erc20:0x…</code>).</li>
<li>Amount carried as:
<ul>
<li><code>quantity</code> — atomic units as a string, canonical for validation.</li>
<li><code>display</code> — UI-only object <code>{ "currency": "&lt;code&gt;", "value": "&lt;decimal string&gt;" }</code>.</li>
</ul>
</li>
<li><code>decimals</code> MUST be supplied when not reliably derivable or to avoid live lookups.</li>
</ul>
<h3 id="Chains">Chains</h3>
<ul>
<li>Identify networks with CAIP-2 (e.g., <code>eip155:1</code>, <code>eip155:137</code>).</li>
</ul>
<h3 id="Canonical-Hashing">Canonical Hashing</h3>
<ul>
<li><code>terms_sha256</code> = SHA-256 over JCS-canonicalized <code>terms</code> JSON; base64url.</li>
<li><code>receipt.summary_hash</code> MUST match <code>terms_sha256</code>.</li>
</ul>
<h3 id="Proofs-of-Control">Proofs of Control</h3>
<ul>
<li>EVM: EIP-191 or EIP-712 signature over a challenge binding <code>{did, session.id, timestamp}</code>.</li>
<li>Bank: pluggable proof (micro-deposit code, bank attestation, VC, Open-Banking consent ref).</li>
</ul>
<h3 id="Cross-protocol-correlation--extensions">Cross-protocol correlation &amp; extensions</h3>
<ul>
<li>Optional correlation fields allowed in any message body: <code>mandate_id</code>, <code>cycle_id</code>, <code>quote_id</code>.</li>
<li>Messages MAY include <code>ext</code> (object) for namespaced extensions. Keys SHOULD be reverse-DNS URIs and unknown keys MUST be ignored.</li>
</ul>
<h2 id="States">States</h2>
<p>State machine (base flow):</p>
<pre><code>query-methods → methods (optional)
compliance-request → compliance-response (optional; REQUIRED if demanded)
handshake-request → requested
handshake-accept → accepted
receipt → receipted
confirm(received|pending|settled|failed) → terminal
cancel or problem-report at any time → abandoned
</code></pre>
<p>Sessions expire at <code>session.ttl</code>; late receipts MUST be ignored and MAY elicit a problem-report (<code>session-closed</code>).</p>
<h2 id="Basic-Walkthrough">Basic Walkthrough</h2>
<ol>
<li>Discovery and Compliance (optional): <code>query-methods</code> → <code>methods</code> → <code>compliance-request</code> → <code>compliance-response</code></li>
<li>Secure Reveal and Acceptance: <code>handshake-request</code> (coordinates, terms, invoice, tax) → <code>handshake-accept</code></li>
<li>Off-rail Payment and Confirmation: Payer pays off-band → <code>receipt</code> (tx ref, summary hash) → <code>confirm</code> (received|pending|settled|failed)</li>
</ol>
<h2 id="Security">Security</h2>
<ul>
<li><strong>Confidentiality &amp; Integrity</strong>: Standard DIDComm v2 encryption provides message confidentiality and integrity; place sensitive data only in <code>handshake-request</code>.</li>
<li><strong>Non-repudiation</strong>: Sign-then-encrypt recommended for <code>handshake-request</code>, <code>receipt</code>, <code>confirm</code>.</li>
<li><strong>Replay protection</strong>: Bind proofs to <code>{did, session.id, timestamp/nonce}</code>; enforce reasonable clock skew.</li>
<li><strong>Data minimization</strong>: Receipts exclude coordinates and full terms; include only references and hashes.</li>
<li><strong>DID/Key rotation</strong>: Require <code>thid</code> continuity; if <code>from</code>/<code>to</code> rotate, re-auth on next hop.</li>
<li><strong>DoS prevention</strong>: Rate-limit concurrent sessions per connection; cap payload sizes; reject oversized attachments.</li>
<li><strong>Privacy in logging</strong>: Redact coordinates, VCs, and IVMS data; log only hashes/IDs.</li>
</ul>
<h2 id="Message-Reference">Message Reference</h2>
<p>All examples are DIDComm JSON bodies (outer envelope omitted for brevity).</p>
<h3 id="query-methods">query-methods</h3>
<p>Message Type URI: <code>https://didcomm.org/payments/1.0/query-methods</code></p>
<pre><code class="language-json">{
  "type": "https://didcomm.org/payments/1.0/query-methods",
  "id": "q-93f...",
  "to": ["did:peer:payee"],
  "from": "did:peer:payer",
  "body": {
    "want": ["method:evm", "method&lt;img class="emoji-icon" alt="emoji-bank" data-icon="emoji-bank" style="" src="data:image/png;base64, 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" title="emoji-bank" /&gt;*"],
    "meta": {
      "purpose": "invoice|deposit|refund",
      "amount": { "currency": "USD", "value": "120.00" }
    }
  }
}
</code></pre>
<h3 id="methods">methods</h3>
<p>Message Type URI: <code>https://didcomm.org/payments/1.0/methods</code></p>
<pre><code class="language-json">{
  "type": "https://didcomm.org/payments/1.0/methods",
  "id": "m-2b1...",
  "thid": "q-93f...",
  "to": ["did:peer:payer"],
  "from": "did:peer:payee",
  "body": {
    "supported": [
      { "code": "method:evm", "variants": [{ "chain": "eip155:1" }, { "chain": "eip155:137" }] },
      { "code": "method&lt;img class="emoji-icon" alt="emoji-bank" data-icon="emoji-bank" style="" src="data:image/png;base64, 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" title="emoji-bank" /&gt;iban" },
      { "code": "method&lt;img class="emoji-icon" alt="emoji-bank" data-icon="emoji-bank" style="" src="data:image/png;base64, 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" title="emoji-bank" /&gt;upi" }
    ],
    "assets": [ "eip155:137/erc20:0x2791...4174" ],
    "defaults": { "preferred": "method:evm", "variant": { "chain": "eip155:137" } },
    "reusable_supported": true,
    "subscriptions_supported": true
  }
}
</code></pre>
<h3 id="compliance-request-optional">compliance-request (optional)</h3>
<p>Message Type URI: <code>https://didcomm.org/payments/1.0/compliance-request</code></p>
<pre><code class="language-json">{
  "type": "https://didcomm.org/payments/1.0/compliance-request",
  "id": "crq-01...",
  "thid": "hs-77c...",
  "body": {
    "vc_presentation_definition": {},
    "ivms101_required": false
  }
}
</code></pre>
<h3 id="compliance-response">compliance-response</h3>
<p>Message Type URI: <code>https://didcomm.org/payments/1.0/compliance-response</code></p>
<pre><code class="language-json">{
  "type": "https://didcomm.org/payments/1.0/compliance-response",
  "id": "crs-01...",
  "thid": "hs-77c...",
  "body": {
    "presentations~attach": [
      { "media_type": "application/vc+ld+json", "data": { "base64": "&lt;verifiable presentation&gt;" } }
    ],
    "ivms101": {}
  }
}
</code></pre>
<h3 id="handshake-request-single-secure-reveal">handshake-request (single secure reveal)</h3>
<p>Message Type URI: <code>https://didcomm.org/payments/1.0/handshake-request</code></p>
<pre><code class="language-json">{
  "type": "https://didcomm.org/payments/1.0/handshake-request",
  "id": "hs-77c...",
  "thid": "hs-77c...",
  "pthid": "parent-protocol-id-if-any",
  "to": ["did:peer:payer"],
  "from": "did:peer:payee",
  "body": {
    "session": { "id": "ps_4a2c...", "ttl": "2025-12-31T23:59:59Z", "nonce": "n-0f..." },
    "mandate_id": "man_8f3a...",
    "cycle_id": "2025-10",
    "ext": {},
    "terms": {
      "request_id": "req_7f9a...",
      "asset": { "caip19": "eip155:137/erc20:0x2791...4174", "decimals": 6 },
      "quantity": "120000000",
      "display": { "currency": "USDC", "value": "120.00" },
      "invoice": {
        "invoice_number": "INV-2025-091",
        "issue_date": "2025-08-31",
        "due_date": "2025-09-07",
        "line_items": [{ "desc": "Pro subscription (Sept)", "qty": "1", "unit_price": "120.00", "hsn_sac": "9983" }],
        "discounts": []
      },
      "tax": {
        "jurisdiction": "",
        "scheme": "GST",
        "place_of_supply": "",
        "registration": { "payee": "", "payer": null },
        "lines": [{ "code": "GST-IGST", "rate": "18.00", "basis": "120.00", "amount": "21.60" }],
        "reverse_charge": false,
        "exempt_reason": null
      },
      "network": { "chain": "eip155:137", "confirmations_required": 20 },
      "fees": { "payer": "payer" },
      "partial_allowed": false,
      "tolerance": { "under": "0.00", "over": "0.00" }
    },
    "payee_coords": {
      "method": "method:evm",
      "evm": {
        "address": "0xABCD...",
        "chain": "eip155:137",
        "wallet_type": "EOA",
        "proof": { "type": "EIP-712", "challenge": "did:peer:payee|ps_4a2c...|2025-08-31T14:00Z", "signature": "0x..." }
      }
    },
    "method_ref": "pm_abc123",
    "compliance": {
      "policy_uri": "https://example.com/policy/aml-tax-v1",
      "vc_requirements": [{ "purpose": "legal-entity", "accepted_schemas": ["vlei:legal-entity", "org-reg:tax-id"] }],
      "ivms101": { "required": false }
    },
    "integrity": { "terms_sha256": "base64url(JCS(SHA-256(terms)))" }
  }
}
</code></pre>
<h3 id="handshake-accept">handshake-accept</h3>
<p>Message Type URI: <code>https://didcomm.org/payments/1.0/handshake-accept</code></p>
<pre><code class="language-json">{
  "type": "https://didcomm.org/payments/1.0/handshake-accept",
  "id": "ha-5d0...",
  "thid": "hs-77c...",
  "to": ["did:peer:payee"],
  "from": "did:peer:payer",
  "body": {
    "session": { "id": "ps_4a2c..." },
    "selected": { "method": "method:evm", "variant": { "chain": "eip155:137" } }
  }
}
</code></pre>
<h3 id="receipt">receipt</h3>
<p>Message Type URI: <code>https://didcomm.org/payments/1.0/receipt</code></p>
<pre><code class="language-json">{
  "type": "https://didcomm.org/payments/1.0/receipt",
  "id": "rcpt-2a77...",
  "thid": "hs-77c...",
  "to": ["did:peer:payee"],
  "from": "did:peer:payer",
  "body": {
    "session_id": "ps_4a2c...",
    "request_id": "req_7f9a...",
    "mandate_id": "man_8f3a...",
    "cycle_id": "2025-10",
    "ext": {},
    "proofs": [
      {
        "network": { "chain": "eip155:137" },
        "tx_ref": "0xTRANSACTION_HASH",
        "summary_hash": "same-as-terms_sha256",
        "payer_hint": { "evm_from": "0x12..34", "masked_bank": "****1234" },
        "payer_proof": { "type": "EIP-191", "challenge": "did:peer:payer|ps_4a2c...|rcpt-2a77...", "signature": "0x..." }
      }
    ]
  }
}
</code></pre>
<p>Idempotency: A receipt is unique per <code>{session_id, tx_ref}</code>; duplicates MUST be accepted as no-ops.</p>
<h3 id="confirm">confirm</h3>
<p>Message Type URI: <code>https://didcomm.org/payments/1.0/confirm</code></p>
<pre><code class="language-json">{
  "type": "https://didcomm.org/payments/1.0/confirm",
  "id": "ack-88de...",
  "thid": "hs-77c...",
  "to": ["did:peer:payer"],
  "from": "did:peer:payee",
  "body": {
    "session_id": "ps_4a2c...",
    "status": "received|pending|settled|failed",
    "reason": null,
    "mandate_id": "man_8f3a...",
    "cycle_id": "2025-10",
    "ext": {}
  }
}
</code></pre>
<h3 id="cancel">cancel</h3>
<p>Message Type URI: <code>https://didcomm.org/payments/1.0/cancel</code></p>
<pre><code class="language-json">{
  "type": "https://didcomm.org/payments/1.0/cancel",
  "id": "cn-01...",
  "thid": "hs-77c...",
  "body": { "session_id": "ps_4a2c...", "reason": "user-cancelled" }
}
</code></pre>
<h3 id="method-update-and-method-revoke">method-update and method-revoke</h3>
<p>Message Type URIs: <code>https://didcomm.org/payments/1.0/method-update</code>, <code>https://didcomm.org/payments/1.0/method-revoke</code></p>
<pre><code class="language-json">{
  "type": "https://didcomm.org/payments/1.0/method-update",
  "id": "mu-01...",
  "to": ["did:peer:counterparty"],
  "from": "did:peer:owner",
  "body": {
    "method_id": "pm_abc123",
    "code": "method&lt;img class="emoji-icon" alt="emoji-bank" data-icon="emoji-bank" style="" src="data:image/png;base64, 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" title="emoji-bank" /&gt;iban",
    "variant": { "region": "EU" },
    "payee_coords": { "bank": { "scheme": "iban", "iban": "DE89...", "bic": "COBADE...", "name": "Acme", "proof": {} } },
    "reason": "rotation"
  }
}
</code></pre>
<pre><code class="language-json">{
  "type": "https://didcomm.org/payments/1.0/method-revoke",
  "id": "mr-01...",
  "to": ["did:peer:counterparty"],
  "from": "did:peer:owner",
  "body": { "method_id": "pm_abc123", "reason": "account-closed" }
}
</code></pre>
<h3 id="Quotes--refunds">Quotes &amp; refunds</h3>
<ul>
<li><code>quote</code> — payee issues a firm quote with <code>quote_id</code>, <code>expires_at</code>; payer MUST echo <code>quote_id</code> in <code>receipt</code>.</li>
<li><code>refund-request</code> / <code>refund-receipt</code> — mirror receipt semantics, referencing original <code>session_id</code>.</li>
</ul>
<h2 id="L10n">L10n</h2>
<p>Localization applies to human-readable fields (e.g., invoice <code>memo</code>, error <code>comment</code>). Protocol validation uses canonical, language-agnostic fields.</p>
<h2 id="Validation-Rules-normative">Validation Rules (normative)</h2>
<ul>
<li>Replay/anti-phishing: Proofs MUST bind to <code>{did, session.id, timestamp/nonce}</code>; enforce reasonable clock skew.</li>
<li>Tax math: Receiver MUST recompute tax from <code>terms.invoice</code> &amp; <code>terms.tax</code> and verify <code>summary_hash</code>.</li>
<li>Payer binding: If the rail reveals payer (e.g., EVM <code>from</code>), <code>payer_proof</code> is OPTIONAL; otherwise include <code>payer_proof</code> or rely on bank API identity.</li>
<li>Amounts: Validate using <code>asset.caip19</code> + <code>quantity</code> only (never the UI <code>display</code> field).</li>
<li>Confirmations: Respect <code>network.confirmations_required</code> when deciding settled vs received/pending.</li>
<li>Compliance gating: If <code>vc_requirements</code>/<code>ivms101</code> present, no <code>handshake-accept</code> until a valid <code>compliance-response</code> is processed.</li>
<li>Method reference integrity: If <code>method_ref</code> is present, the receiver MUST resolve it to a verified <code>PaymentMethodRecord</code> for the same <code>connectionId</code>; otherwise reject with <code>method-ref-invalid</code>.</li>
<li>Correlation transparency: <code>mandate_id</code>/<code>cycle_id</code> MUST NOT alter financial validation; they only aid correlation/UX.</li>
</ul>
<h2 id="Errors-Problem-Report-codes">Errors (Problem-Report codes)</h2>
<p>Use standard DIDComm problem-report with these codes:</p>
<ul>
<li><code>unsupported-method</code>, <code>invalid-proof</code>, <code>request-expired</code>, <code>session-closed</code></li>
<li><code>amount-mismatch</code>, <code>asset-unsupported</code>, <code>summary-hash-mismatch</code></li>
<li><code>tx-not-found</code>, <code>tx-underpaid</code>, <code>tx-overpaid</code>, <code>confirmations-insufficient</code></li>
<li><code>bank-ref-mismatch</code>, <code>duplicate-receipt</code></li>
<li><code>compliance-required</code>, <code>vc-invalid</code>, <code>ivms101-missing</code></li>
<li><code>method-ref-invalid</code>, <code>mandate-required</code>, <code>cycle-over-cap</code>, <code>retry-exhausted</code></li>
</ul>
<h2 id="Storage--Reuse-connection-scoped">Storage &amp; Reuse (connection-scoped)</h2>
<h3 id="Suggested-Records">Suggested Records</h3>
<ul>
<li>PaymentMethodRecord: <code>id</code>, <code>connectionId</code>, <code>code</code>, <code>variant</code>, <code>display</code>, <code>verified(bool)</code>, <code>default(bool)</code>, <code>status('unverified'|'verified'|'revoked'|'expired')</code>, <code>version</code>, <code>payload(ENCRYPTED JSON)</code>, <code>proof</code>, <code>tags</code></li>
<li>PaymentSessionRecord: <code>sessionId</code>, <code>connectionId</code>, <code>requestId</code>, <code>state('requested'|'accepted'|'receipted'|'confirmed'|'failed')</code>, <code>selectedMethodId</code>, <code>termsSha256</code>, <code>nonce</code>, <code>quoteId?</code>, <code>confirmationsRequired?</code>, <code>expiresAt</code>, <code>vcVerified(bool)</code>, <code>ivmsVerified(bool)</code>, <code>stateReason?</code></li>
<li>TaxProfileRecord (per connection): <code>connectionId</code>, <code>jurisdictions[]</code>, <code>defaultScheme</code>, <code>registrations{payee,payer}</code>, <code>lastValidatedAt</code></li>
<li>CompliancePolicyRecord: <code>policyUri</code>, <code>vcRequirements[]</code>, <code>ivmsRequired(bool)</code>, <code>updatedAt</code></li>
</ul>
<h3 id="Reuse">Reuse</h3>
<ul>
<li>Keep multiple <code>PaymentMethodRecord</code>s per connection; mark <code>default=true</code>.</li>
<li>If a default exists, Payee MAY skip <code>query-methods</code> and send <code>handshake-request</code> directly.</li>
<li>Payer may override in <code>handshake-accept</code>; Payee may reject via <code>problem-report</code>.</li>
<li>When a default exists, the payee MAY use <code>method_ref</code> in <code>handshake-request</code> to avoid resending coordinates. The receiver MUST still enforce verification on the referenced record.</li>
</ul>
<h2 id="Mandates--Recurring-Payments-Optional-Profile">Mandates &amp; Recurring Payments (Optional Profile)</h2>
<p>This profile specifies reusable payment authorizations (“mandates”) and recurring charges. Messages use the <code>https://didcomm.org/payments/1.0/*</code> prefix and compose with the base flow by referencing stored methods via <code>method_ref</code>, correlating with <code>mandate_id</code>/<code>cycle_id</code>, and invoking the standard <code>handshake-request → receipt → confirm</code> for each charge.</p>
<h3 id="Discoverability-profile">Discoverability (profile)</h3>
<p>Advertise via Discover-Features: <code>subscriptions:autopay</code>, <code>subscriptions:notify</code>, <code>subscriptions:updates</code>, <code>subscriptions:retry</code>.</p>
<h3 id="Mandate-lifecycle-messages">Mandate lifecycle messages</h3>
<p><code>mandate-offer</code> (Payee → Payer): Proposes subscription plan + constraints.</p>
<pre><code class="language-json">{
  "type": "https://didcomm.org/payments/1.0/mandate-offer",
  "id": "mof-01...",
  "to": ["did:peer:payer"],
  "from": "did:peer:payee",
  "body": {
    "plan": { "name": "Pro Plan", "billing_period": "P1M", "anchor_day": 1, "start_at": "2025-09-15T00:00:00Z", "trial_until": null, "grace_period": "P7D", "retry_policy": { "attempts": 3, "interval": "P2D" } },
    "terms": { "asset": { "caip19":"eip155:137/erc20:0x2791...4174", "decimals": 6 }, "price_quantity": "120000000", "display": { "currency":"USDC", "value":"120.00" }, "tax_policy": "GST", "tax_hints": { "jurisdiction":"CA", "place_of_supply":"CA-ON" }, "variable_pricing": false },
    "constraints": { "cap_per_charge_quantity": "150000000", "cap_per_period_quantity": "600000000", "cap_total_quantity": null, "expires_at": "2027-09-15T00:00:00Z" },
    "methods_allowed": [ {"code":"method:evm","variant":{"chain":"eip155:137"}}, {"code":"method&lt;img class="emoji-icon" alt="emoji-bank" data-icon="emoji-bank" style="" src="data:image/png;base64, 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" title="emoji-bank" /&gt;iban"} ],
    "autopay_requested": true,
    "notify_days_before": 3,
    "compliance_requirements": { "vc_requirements":[{"purpose":"legal-entity","accepted_schemas":["vlei:legal-entity"]}], "ivms101": { "required": false } },
    "mandate_terms_sha256": "base64url(JCS(SHA-256(offer.body)))"
  }
}
</code></pre>
<p><code>mandate-accept</code> (Payer → Payee): Chooses stored method by reference and consents.</p>
<pre><code class="language-json">{
  "type": "https://didcomm.org/payments/1.0/mandate-accept",
  "id": "mac-01...",
  "thid": "mof-01...",
  "to": ["did:peer:payee"],
  "from": "did:peer:payer",
  "body": {
    "mandate_id": "man_8f3a...",
    "method_ref": "pm_abc123",
    "autopay": true,
    "limits": { "cap_per_charge_quantity": "150000000" },
    "mandate_terms_sha256": "base64url(JCS(SHA-256(offer.body)))",
    "consent_proof": { "type": "did-jws", "signature": "eyJhbGciOiJFZERTQSIs..." }
  }
}
</code></pre>
<p><code>mandate-activate</code> (Payee → Payer): Confirms activation and sets the first due date.</p>
<pre><code class="language-json">{ "type": "https://didcomm.org/payments/1.0/mandate-activate", "id": "mact-01...", "thid": "mof-01...", "body": { "mandate_id":"man_8f3a...", "status":"active", "next_due_at":"2025-10-15T00:00:00Z" } }
</code></pre>
<p><code>mandate-update</code> / <code>mandate-cancel</code> (either direction): Propose changes or stop future cycles.</p>
<pre><code class="language-json">{ "type": "https://didcomm.org/payments/1.0/mandate-update", "id": "mup-01...", "thid": "mof-01...", "body": { "mandate_id":"man_8f3a...", "changes": { "plan": { "billing_period":"P1Y" } } } }
</code></pre>
<pre><code class="language-json">{ "type": "https://didcomm.org/payments/1.0/mandate-cancel", "id": "mcn-01...", "thid": "mof-01...", "body": { "mandate_id":"man_8f3a...", "when":"immediate|period_end", "reason":"user-request" } }
</code></pre>
<p><code>subscription-status</code> (either direction): Synchronizes mandate status for UI/ops.</p>
<pre><code class="language-json">{
  "type":"https://didcomm.org/payments/1.0/subscription-status",
  "id":"sst-01...",
  "thid":"mof-01...",
  "body":{ "mandate_id":"man_8f3a...", "status":"active|past_due|canceled|paused", "next_due_at":"2025-10-15T00:00:00Z", "last_paid_at":"2025-09-15T00:00:00Z", "past_due": false, "outstanding_cycles": 0 }
}
</code></pre>
<h4 id="Charge-messages">Charge messages</h4>
<p>Two modes reuse the base handshake flow.</p>
<p><code>charge-notice</code> (Payee → Payer): Nudge before due date.</p>
<pre><code class="language-json">{
  "type": "https://didcomm.org/payments/1.0/charge-notice",
  "id": "chn-01...",
  "thid":"mof-01...",
  "body": { "mandate_id":"man_8f3a...", "cycle_id":"2025-10", "due_at":"2025-10-15T00:00:00Z", "preview": { "display": {"currency":"USDC","value":"120.00"}, "tax_estimate": {"amount":"21.60"} } }
}
</code></pre>
<p><code>charge-request</code> (Payee → Payer): Compact wrapper that results in a base <code>handshake-request</code>.</p>
<pre><code class="language-json">{
  "type": "https://didcomm.org/payments/1.0/charge-request",
  "id": "chr-01...",
  "thid":"mof-01...",
  "body": {
    "mandate_id":"man_8f3a...",
    "cycle_id":"2025-10",
    "method_ref":"pm_abc123",
    "terms": {
      "asset": { "caip19":"eip155:137/erc20:0x2791...4174","decimals":6 },
      "quantity":"120000000",
      "display": {"currency":"USDC","value":"120.00"},
      "invoice": { "invoice_number":"INV-2025-10-0001", "line_items":[{"desc":"Pro Plan Oct","qty":"1","unit_price":"120.00"}] },
      "tax": { "jurisdiction":"IN", "scheme":"GST", "lines":[{"code":"GST-IGST","rate":"18.00","basis":"120.00","amount":"21.60"}] },
      "network": { "chain":"eip155:137", "confirmations_required":20 }
    },
    "integrity": { "terms_sha256":"..." }
  }
}
</code></pre>
<h3 id="Profile-Validation-and-Errors">Profile Validation and Errors</h3>
<ul>
<li>Consent digest integrity: <code>mandate-accept.body.mandate_terms_sha256</code> MUST match the offer digest (JCS+SHA-256). <code>consent_proof</code> MUST bind <code>{did, mandate_id (or thid), timestamp}</code>.</li>
<li>Per-cycle integrity: Every cycle terms MUST produce a <code>terms_sha256</code> that equals the <code>receipt.summary_hash</code>.</li>
<li>Caps: Reject a cycle if it exceeds <code>cap_per_charge_quantity</code>, <code>cap_per_period_quantity</code>, or <code>cap_total_quantity</code>.</li>
<li>Compliance freshness: If compliance VCs/IVMS are expired or missing, a fresh <code>compliance-request</code> MUST precede the next charge.</li>
<li>Errors (adds to base): <code>mandate-invalid</code>, <code>mandate-consent-required</code>, <code>mandate-canceled</code>, <code>mandate-expired</code>, <code>cycle-over-cap</code>, <code>cycle-past-due</code>, <code>retry-exhausted</code>, <code>autopay-disabled</code>, <code>notify-required</code>, <code>method-ref-invalid</code>.</li>
</ul>
<h2 id="Implementations">Implementations</h2>
<table>
<thead>
<tr>
<th>Name / Link</th>
<th>Implementation Notes</th>
</tr>
</thead>
</table>
<h2 id="Endnotes">Endnotes</h2>
<h3 id="Future-Considerations">Future Considerations</h3>
<ul>
<li>Refund and chargeback patterns</li>
<li>Multi-party or split payments</li>
<li>Escrowed settlement and dispute mediation</li>
</ul></div></article><div class="Protocol-module--meta--1e1pP"><div class="Protocol-module--metaContent--1hPYi"><div class="font-subheadline Protocol-module--metaTitle--PGKpJ">PIURI</div><div class="font-footnote">https://didcomm.org/payments/1.0</div></div><div class="Protocol-module--metaContent--1hPYi"><div class="font-subheadline Protocol-module--metaTitle--PGKpJ">Status</div><div class="Status-module--status--1dG8s Status-module--demonstrated--2VaNN">Demonstrated</div></div><div class="Protocol-module--metaContent--1hPYi"><div class="font-subheadline Protocol-module--metaTitle--PGKpJ">Hashtags</div><div class="Tags-module--tags--11-St"><a class="Tags-module--tag--14doh" href="/search?tag=payments"># <!-- -->payments</a><a class="Tags-module--tag--14doh" href="/search?tag=commerce"># <!-- -->commerce</a></div></div><div class="Protocol-module--metaContent--1hPYi"><div class="font-subheadline Protocol-module--metaTitle--PGKpJ">Publisher</div><a rel="noreferrer noopener nofollow" aria-label="GitHub profile vinaysingh8866" class="Avatar-module--avatar--2HGSY" target="_blank" href="https://github.com/vinaysingh8866"><div style="background-image:url(https://avatars.githubusercontent.com/u/12121665?v=4&amp;s=48)" class="Avatar-module--img--3CeLS font-footnote"></div><span class="font-footnote Avatar-module--publisher--ktcuv">@<!-- -->vinaysingh8866</span></a></div><div class="Protocol-module--metaContent--1hPYi"><div class="font-subheadline Protocol-module--metaTitle--PGKpJ">Authors</div><div class="Authors-module--authors--fKUTX"><a class="font-footnote Authors-module--link--2M7F6" href="mailto:vinay@verid.id">Vinay Singh</a></div></div><div class="hide-mobile hide-print"><div class="Protocol-module--metaContent--1hPYi"><div class="font-subheadline Protocol-module--metaTitle--PGKpJ">Version</div><div class="font-footnote">1.0</div></div></div><div class="Protocol-module--metaContent--1hPYi"><div class="font-subheadline Protocol-module--metaTitle--PGKpJ">License</div><div class="font-footnote">MIT</div></div><div class="Protocol-module--metaContent--1hPYi"><div class="font-subheadline Protocol-module--metaTitle--PGKpJ">Last modified</div><span class="font-footnote">2025 Nov 17, 20:11 PM</span></div></div></div></main></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/payments/1.0/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-5cf53654e1a73056adc6.js"],"app":["/app-2258e9ff8c9279fe5507.js"],"component---src-pages-404-tsx":["/component---src-pages-404-tsx-06fe7db8f8c75ad21a4d.js"],"component---src-pages-index-tsx":["/component---src-pages-index-tsx-eb4a3aa53617243254eb.js"],"component---src-templates-book-book-tsx":["/component---src-templates-book-book-tsx-f87c4cd85a9942002b2d.js"],"component---src-templates-protocol-protocol-tsx":["/component---src-templates-protocol-protocol-tsx-3391b2f00d0a4ae5a5c3.js"],"component---src-templates-search-search-tsx":["/component---src-templates-search-search-tsx-e8abc6de2d7bc98ba3a7.js"]};/*]]>*/</script><script src="/polyfill-5cf53654e1a73056adc6.js" nomodule=""></script><script src="/component---src-templates-protocol-protocol-tsx-3391b2f00d0a4ae5a5c3.js" async=""></script><script src="/commons-ceb25d5ebe4b77987b3b.js" async=""></script><script src="/app-2258e9ff8c9279fe5507.js" async=""></script><script src="/framework-0993f47ffebd3bbb5409.js" async=""></script><script src="/webpack-runtime-7b527356047a9787095f.js" async=""></script></body></html>
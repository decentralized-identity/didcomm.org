{
    "componentChunkName": "component---src-templates-protocol-protocol-tsx",
    "path": "/data-agreement-negotiation/1.0/",
    "result": {"data":{"markdownRemark":{"html":"<h2 id=\"Data-Agreement-Negotiation-Protocol-10\">Data Agreement Negotiation Protocol 1.0</h2>\n<h3 id=\"Summary\">Summary</h3>\n<p>This specification defines DIDComm protocol for a Data Controller (Data Source or Data Using Service) to send a Data Agreement offer to an Individual (Data Subject). Individuals receiving the Data Agreement Offer can decide to accept or reject it.</p>\n<h3 id=\"Motivation\">Motivation</h3>\n<p>We need a standard protocol to perform the Data Agreement Offer lifecycle.</p>\n<h3 id=\"Tutorial\">Tutorial</h3>\n<p>The protocol described in this document is a request-response protocol [10]. This involves two parties, with the <code>requester</code> making the first move, and the responder completing the interaction. The <code>responder</code> role is assumed by <strong>Data Subject</strong>.</p>\n<p>Following actors identified as part of Data Agreement specification can assume the <code>requester</code> role:</p>\n<ul>\n<li>a <strong>Data Source</strong>, the organisation collecting private data, (typically a data controller).  [SSI: Issuer]</li>\n<li>a <strong>Data Using Service (DUS)</strong>, an organisation processing personal data from one or more data sources to deliver a service. [SSI: Verifier]</li>\n</ul>\n<h4 id=\"Interaction\">Interaction</h4>\n<p>The requester sends a Data Agreement offer to the responder using an already established pairwise connection (agent-to-agent communication). The responder can decide to accept or reject it. If the responder accepts the offer, it will result in credential issuance or proof presentation based on the method of use as described in the Data Agreement.</p>\n<h4 id=\"Messages\">Messages</h4>\n<p>The Data Agreement Offer protocol consists of these messages:</p>\n<ul>\n<li><code>data-agreement-negotiation/1.0/offer</code></li>\n<li><code>data-agreement-negotiation/1.0/reject</code></li>\n<li><code>data-agreement-negotiation/1.0/accept</code></li>\n<li><code>data-agreement-negotiation/1.0/problem-report</code></li>\n</ul>\n<h5 id=\"Offer\">Offer</h5>\n<p>An organisation (requester) intending to send a Data Agreement offer to a Data Subject (responder) must construct a <code>data-agreement-negotiation/1.0/offer</code> DIDComm message and sign it using the registered MyData DID. An example of a <code>data-agreement-negotiation/1.0/offer</code> DIDComm message is given below.</p>\n<pre><code class=\"language-json\">{\n    \"type\": \"https://didcomm.org/data-agreement-negotiation/1.0/offer\",\n    \"id\": \"999f6c2b-b0e5-4123-aab0-b5f7bfc780c4\",\n    \"created_time\": \"1639288911\",\n    \"from\": \"did:mydata:z6Mkkmdx9iNHeKGYyV4Wi4uZLLpcmCKmh8uw369a6xGrY4iX\",\n    \"body\": {\n        \"@context\": [\n            \"https://raw.githubusercontent.com/decentralised-dataexchange/automated-data-agreements/main/interface-specs/data-agreement-schema/v1/data-agreement-schema-context.jsonld\",\n            \"https://w3id.org/security/v2\"\n        ],\n        \"id\": \"d900a281-31f0-4bd5-a647-2c95136250b5\",\n        \"version\": 1,\n        \"template_id\": \"6f5c0c86-40cb-4683-a993-e8ba8cbbdaa9\",\n        \"template_version\": 1,\n        \"data_controller_name\": \"Happy Shopping AB\",\n        \"data_controller_url\": \"https://www.happyshopping.com\",\n        \"purpose\": \"Customer loyalty program\",\n        \"purpose_description\": \"Issuing loyalty cards for customers.\",\n        \"lawful_basis\": \"consent\",\n        \"method_of_use\": \"data-source\",\n        \"data_policy\": {\n            \"data_retention_period\": 365,\n            \"policy_URL\": \"https://clarifyhealth.com/privacy-policy/\",\n            \"jurisdiction\": \"Sweden\",\n            \"industry_sector\": \"Healthcare\",\n            \"geographic_restriction\": \"Europe\",\n            \"storage_location\": \"Europe\"\n        },\n        \"personal_data\": [\n            {\n                \"attribute_id\": \"be99f24e-a7fe-452b-aac5-cd564f4700b6\",\n                \"attribute_name\": \"Name\",\n                \"attribute_sensitive\": true,\n                \"attribute_category\": \"Personal\",\n                \"attribute_description\": \"Name of the user\"\n            }\n        ],\n        \"dpia\": {\n            \"dpia_date\": \"2021-12-12T10:19:46.259870+00:00\",\n            \"dpia_summary_url\": \"https://org.com/dpia_results.html\"\n        },\n        \"event\": [\n            {\n                \"id\": \"did:mydata:z6Mkkmdx9iNHeKGYyV4Wi4uZLLpcmCKmh8uw369a6xGrY4iX#1\",\n                \"time_stamp\": \"2021-12-12T11:31:38.749729+00:00\",\n                \"did\": \"did:mydata:z6Mkkmdx9iNHeKGYyV4Wi4uZLLpcmCKmh8uw369a6xGrY4iX\",\n                \"state\": \"offer\"\n            }\n        ],\n        \"proof\": {\n            \"id\": \"did:mydata:z6Mkkmdx9iNHeKGYyV4Wi4uZLLpcmCKmh8uw369a6xGrY4iX#1\",\n            \"type\": \"Ed25519Signature2018\",\n            \"created\": \"2021-12-12T11:31:38.751698+00:00\",\n            \"verificationMethod\": \"did:mydata:z6Mkkmdx9iNHeKGYyV4Wi4uZLLpcmCKmh8uw369a6xGrY4iX\",\n            \"proofPurpose\": \"contractAgreement\",\n            \"proofValue\": \"eyJhbGciOiAiRWREU0EiLCAiYjY0IjogZmFsc2UsICJjcml0IjogWyJiNjQiXX0..MI54Jf_8BtdmsMr80nRuBbMib8aupMCFL28Nl1oliqp7pxPrRPlgywvkK63z2U29wIGd7DldDh5zHIQ406TFCA\"\n        },\n        \"data_subject_did\": \"did:mydata:z6MkhnMkWDytfVEL88BRmWGeLN9vGhpdJ612QTgVMt1agqND\"\n    },\n    \"to\": \"did:mydata:z6MkhnMkWDytfVEL88BRmWGeLN9vGhpdJ612QTgVMt1agqND\"\n}\n</code></pre>\n<h5 id=\"Accept\">Accept</h5>\n<p>On receiving the <code>offer</code> message, the Data Subject (responder) displays the contents of the Data Agreement offer and can decide to accept or reject it. If the Data Subject decides to accept the offer:</p>\n<ol>\n<li>Data Agreement Offer is represented as a JSON-LD document, and proof in the document conforms to W3C LINKED DATA PROOF 1.0 specification.</li>\n<li>The Data Subject should add the counter signature to the proof chain in the Data Agreement Offer using the proof algorithm.</li>\n<li>An <code>accept</code> DIDComm plain-text message is constructed. An example is given below.</li>\n</ol>\n<pre><code class=\"language-json\">{\n    \"type\": \"https://didcomm.org/data-agreement-negotiation/1.0/accept\",\n    \"id\": \"b6ca56e5-5f2a-470f-95e6-b71690964754\",\n    \"from\": \"did:mydata:z6MkhnMkWDytfVEL88BRmWGeLN9vGhpdJ612QTgVMt1agqND\",\n    \"to\": \"did:mydata:z6MkpzHAuPc4N2jgXg23ikZjp2tQSTEHqnzzr9683AQ2EvCV\",\n    \"created_time\": \"1639288936\",\n    \"body\": {\n        \"id\": \"d900a281-31f0-4bd5-a647-2c95136250b5\",\n        \"event\": {\n            \"id\": \"did:mydata:z6MkhnMkWDytfVEL88BRmWGeLN9vGhpdJ612QTgVMt1agqND#2\",\n            \"time_stamp\": \"2021-12-12T11:32:05.047266+00:00\",\n            \"did\": \"did:mydata:z6MkhnMkWDytfVEL88BRmWGeLN9vGhpdJ612QTgVMt1agqND\",\n            \"state\": \"accept\"\n        },\n        \"proof\": {\n            \"id\": \"did:mydata:z6MkhnMkWDytfVEL88BRmWGeLN9vGhpdJ612QTgVMt1agqND#2\",\n            \"type\": \"Ed25519Signature2018\",\n            \"created\": \"2021-12-12T11:32:05.048210+00:00\",\n            \"verificationMethod\": \"did:mydata:z6MkhnMkWDytfVEL88BRmWGeLN9vGhpdJ612QTgVMt1agqND\",\n            \"proofPurpose\": \"contractAgreement\",\n            \"proofValue\": \"eyJhbGciOiAiRWREU0EiLCAiYjY0IjogZmFsc2UsICJjcml0IjogWyJiNjQiXX0..pBaGGj6LcZLwUA7kl7ABfyLLi0v0YXzqNjnY03DUqcWWPWf2TPiCKlmIBcIZCkOGZbLmyLl4j_0vncsJrRYSAg\"\n        }\n    }\n}\n</code></pre>\n<h5 id=\"Reject\">Reject</h5>\n<p>On receiving the <code>offer</code> message, the Data Subject (responder) displays the contents of the Data Agreement offer and can decide to accept or reject it. If the Data Subject rejects the offer, a <code>reject</code> DIDComm message must be constructed and sent to the requester. This message informs the requester that the Data Subject rejected the Data Agreement Offer. An example of a <code>reject</code> message is given below.</p>\n<pre><code class=\"language-json\">{\n    \"type\": \"https://didcomm.org/data-agreement-negotiation/1.0/reject\",\n    \"id\": \"68aae3a4-7c19-4541-97c6-1388778d3a98\",\n    \"from\": \"did:mydata:z6MkhnMkWDytfVEL88BRmWGeLN9vGhpdJ612QTgVMt1agqND\",\n    \"to\": \"did:mydata:z6MkpzHAuPc4N2jgXg23ikZjp2tQSTEHqnzzr9683AQ2EvCV\",\n    \"created_time\": \"1639291116\",\n    \"body\": {\n        \"id\": \"0d805251-e448-4022-b4f9-cbe125c03156\",\n        \"event\": {\n            \"id\": \"did:mydata:z6MkhnMkWDytfVEL88BRmWGeLN9vGhpdJ612QTgVMt1agqND#2\",\n            \"time_stamp\": \"2021-12-12T12:08:23.540249+00:00\",\n            \"did\": \"did:mydata:z6MkhnMkWDytfVEL88BRmWGeLN9vGhpdJ612QTgVMt1agqND\",\n            \"state\": \"reject\"\n        },\n        \"proof\": {\n            \"id\": \"did:mydata:z6MkhnMkWDytfVEL88BRmWGeLN9vGhpdJ612QTgVMt1agqND#2\",\n            \"type\": \"Ed25519Signature2018\",\n            \"created\": \"2021-12-12T12:08:23.542890+00:00\",\n            \"verificationMethod\": \"did:mydata:z6MkhnMkWDytfVEL88BRmWGeLN9vGhpdJ612QTgVMt1agqND\",\n            \"proofPurpose\": \"contractAgreement\",\n            \"proofValue\": \"eyJhbGciOiAiRWREU0EiLCAiYjY0IjogZmFsc2UsICJjcml0IjogWyJiNjQiXX0..7vx_Tk_IjKxqe16VygonM9jl61h5karcHX_scz6UN5qaSVQG1A4tz8GDkGn-OqRi8oqb2-gfc4hv4aNCwqkBCQ\"\n        }\n    }\n}\n</code></pre>\n<h5 id=\"Problem-Report\">Problem Report</h5>\n<p>Errors might occur in various places. All errors are modelled with problem-report messages. If a problem arises, the agent will respond with a problem report message that conforms to Aries RFC 0035 [9]. An example is given below.</p>\n<pre><code class=\"language-json\">{\n    \"type\": \"https://didcomm.org/data-agreement-negotiation/1.0/problem-report\",\n    \"id\": \"14525b0d-284f-42de-85ed-a2ca66a4d51c\",\n    \"~thread\": {\n        \"thid\": \"2ab0914c-9209-4b4a-8bf4-8df329ecbd3b\"\n    },\n    \"created_time\": \"1639289960\",\n    \"from\": \"did:mydata:z6MkpzHAuPc4N2jgXg23ikZjp2tQSTEHqnzzr9683AQ2EvCV\",\n    \"to\": \"did:mydata:z6MkhnMkWDytfVEL88BRmWGeLN9vGhpdJ612QTgVMt1agqND\",\n    \"problem-code\": \"controller_did_invalid\",\n    \"explain\": \"Controller DID is invalid.\"\n}\n</code></pre>\n<h2 id=\"References\">References</h2>\n<ol>\n<li>DID core specification: <a href=\"https://www.w3.org/TR/did-core/\">https://www.w3.org/TR/did-core/</a></li>\n<li>IETF Multibase Data Format specification: <a href=\"https://tools.ietf.org/html/draft-multiformats-multibase\">https://tools.ietf.org/html/draft-multiformats-multibase</a></li>\n<li>Multicodec - Compact self-describing codecs: <a href=\"https://github.com/multiformats/multicodec\">https://github.com/multiformats/multicodec</a></li>\n<li>DIDComm message specification: <a href=\"https://identity.foundation/didcomm-messaging/spec/v2.1/\">https://identity.foundation/didcomm-messaging/spec/v2.1/</a></li>\n<li>Linked Data Cryptographic Suit Registry: <a href=\"https://w3c-ccg.github.io/ld-cryptosuite-registry/\">https://w3c-ccg.github.io/ld-cryptosuite-registry/</a></li>\n<li>Aries RFC 0092: Transports Return Route: <a href=\"https://github.com/hyperledger/aries-rfcs/tree/master/features/0092-transport-return-route\">https://github.com/hyperledger/aries-rfcs/tree/master/features/0092-transport-return-route</a></li>\n<li>Aries RFC 0019: Encryption Envelope:  <a href=\"https://github.com/hyperledger/aries-rfcs/tree/master/features/0019-encryption-envelope\">https://github.com/hyperledger/aries-rfcs/tree/master/features/0019-encryption-envelope</a></li>\n<li>IETF RFC 7516 - JSON Web Encryption: <a href=\"https://datatracker.ietf.org/doc/html/rfc7516\">https://datatracker.ietf.org/doc/html/rfc7516</a></li>\n<li>Aries RFC 0035 - Report Problem Protocol 1.0: <a href=\"https://github.com/hyperledger/aries-rfcs/tree/master/features/0035-report-problem\">https://github.com/hyperledger/aries-rfcs/tree/master/features/0035-report-problem</a></li>\n<li>Aries RFC  003 - Protocols: <a href=\"https://github.com/hyperledger/aries-rfcs/tree/master/concepts/0003-protocols#types-of-protocols\">https://github.com/hyperledger/aries-rfcs/tree/master/concepts/0003-protocols#types-of-protocols</a></li>\n</ol>","frontmatter":{"title":"Data Agreement Negotiation","tags":[],"license":"MIT","publisher":"rodolfomiranda","status":"Production","piuri":"https://didcomm.org/data-agreement-negotiation/1.0","summary":"This specification defines DIDComm protocol for a Data Controller (Data Source or Data Using Service) to send a Data Agreement offer to an Individual (Data Subject). Individuals receiving the Data Agreement Offer can decide to accept or reject it.","authors":[{"name":"Mr. Lal Chandran (iGrant.io, Sweden)","email":null}]},"fields":{"modifiedDate":"Mon Mar 17 2025 19:26:22 GMT+0000 (Coordinated Universal Time)","avatar":"https://avatars.githubusercontent.com/u/2913773?v=4&s=48","version":"1.0"}}},"pageContext":{"matchPath":"data-agreement-negotiation/1.0/*","id":"f7aeb2e7-9658-5f65-b6a0-77718868fc9d","html":"<h2 id=\"Data-Agreement-Negotiation-Protocol-10\">Data Agreement Negotiation Protocol 1.0</h2>\n<h3 id=\"Summary\">Summary</h3>\n<p>This specification defines DIDComm protocol for a Data Controller (Data Source or Data Using Service) to send a Data Agreement offer to an Individual (Data Subject). Individuals receiving the Data Agreement Offer can decide to accept or reject it.</p>\n<h3 id=\"Motivation\">Motivation</h3>\n<p>We need a standard protocol to perform the Data Agreement Offer lifecycle.</p>\n<h3 id=\"Tutorial\">Tutorial</h3>\n<p>The protocol described in this document is a request-response protocol [10]. This involves two parties, with the <code>requester</code> making the first move, and the responder completing the interaction. The <code>responder</code> role is assumed by <strong>Data Subject</strong>.</p>\n<p>Following actors identified as part of Data Agreement specification can assume the <code>requester</code> role:</p>\n<ul>\n<li>a <strong>Data Source</strong>, the organisation collecting private data, (typically a data controller).  [SSI: Issuer]</li>\n<li>a <strong>Data Using Service (DUS)</strong>, an organisation processing personal data from one or more data sources to deliver a service. [SSI: Verifier]</li>\n</ul>\n<h4 id=\"Interaction\">Interaction</h4>\n<p>The requester sends a Data Agreement offer to the responder using an already established pairwise connection (agent-to-agent communication). The responder can decide to accept or reject it. If the responder accepts the offer, it will result in credential issuance or proof presentation based on the method of use as described in the Data Agreement.</p>\n<h4 id=\"Messages\">Messages</h4>\n<p>The Data Agreement Offer protocol consists of these messages:</p>\n<ul>\n<li><code>data-agreement-negotiation/1.0/offer</code></li>\n<li><code>data-agreement-negotiation/1.0/reject</code></li>\n<li><code>data-agreement-negotiation/1.0/accept</code></li>\n<li><code>data-agreement-negotiation/1.0/problem-report</code></li>\n</ul>\n<h5 id=\"Offer\">Offer</h5>\n<p>An organisation (requester) intending to send a Data Agreement offer to a Data Subject (responder) must construct a <code>data-agreement-negotiation/1.0/offer</code> DIDComm message and sign it using the registered MyData DID. An example of a <code>data-agreement-negotiation/1.0/offer</code> DIDComm message is given below.</p>\n<pre><code class=\"language-json\">{\n    \"type\": \"https://didcomm.org/data-agreement-negotiation/1.0/offer\",\n    \"id\": \"999f6c2b-b0e5-4123-aab0-b5f7bfc780c4\",\n    \"created_time\": \"1639288911\",\n    \"from\": \"did:mydata:z6Mkkmdx9iNHeKGYyV4Wi4uZLLpcmCKmh8uw369a6xGrY4iX\",\n    \"body\": {\n        \"@context\": [\n            \"https://raw.githubusercontent.com/decentralised-dataexchange/automated-data-agreements/main/interface-specs/data-agreement-schema/v1/data-agreement-schema-context.jsonld\",\n            \"https://w3id.org/security/v2\"\n        ],\n        \"id\": \"d900a281-31f0-4bd5-a647-2c95136250b5\",\n        \"version\": 1,\n        \"template_id\": \"6f5c0c86-40cb-4683-a993-e8ba8cbbdaa9\",\n        \"template_version\": 1,\n        \"data_controller_name\": \"Happy Shopping AB\",\n        \"data_controller_url\": \"https://www.happyshopping.com\",\n        \"purpose\": \"Customer loyalty program\",\n        \"purpose_description\": \"Issuing loyalty cards for customers.\",\n        \"lawful_basis\": \"consent\",\n        \"method_of_use\": \"data-source\",\n        \"data_policy\": {\n            \"data_retention_period\": 365,\n            \"policy_URL\": \"https://clarifyhealth.com/privacy-policy/\",\n            \"jurisdiction\": \"Sweden\",\n            \"industry_sector\": \"Healthcare\",\n            \"geographic_restriction\": \"Europe\",\n            \"storage_location\": \"Europe\"\n        },\n        \"personal_data\": [\n            {\n                \"attribute_id\": \"be99f24e-a7fe-452b-aac5-cd564f4700b6\",\n                \"attribute_name\": \"Name\",\n                \"attribute_sensitive\": true,\n                \"attribute_category\": \"Personal\",\n                \"attribute_description\": \"Name of the user\"\n            }\n        ],\n        \"dpia\": {\n            \"dpia_date\": \"2021-12-12T10:19:46.259870+00:00\",\n            \"dpia_summary_url\": \"https://org.com/dpia_results.html\"\n        },\n        \"event\": [\n            {\n                \"id\": \"did:mydata:z6Mkkmdx9iNHeKGYyV4Wi4uZLLpcmCKmh8uw369a6xGrY4iX#1\",\n                \"time_stamp\": \"2021-12-12T11:31:38.749729+00:00\",\n                \"did\": \"did:mydata:z6Mkkmdx9iNHeKGYyV4Wi4uZLLpcmCKmh8uw369a6xGrY4iX\",\n                \"state\": \"offer\"\n            }\n        ],\n        \"proof\": {\n            \"id\": \"did:mydata:z6Mkkmdx9iNHeKGYyV4Wi4uZLLpcmCKmh8uw369a6xGrY4iX#1\",\n            \"type\": \"Ed25519Signature2018\",\n            \"created\": \"2021-12-12T11:31:38.751698+00:00\",\n            \"verificationMethod\": \"did:mydata:z6Mkkmdx9iNHeKGYyV4Wi4uZLLpcmCKmh8uw369a6xGrY4iX\",\n            \"proofPurpose\": \"contractAgreement\",\n            \"proofValue\": \"eyJhbGciOiAiRWREU0EiLCAiYjY0IjogZmFsc2UsICJjcml0IjogWyJiNjQiXX0..MI54Jf_8BtdmsMr80nRuBbMib8aupMCFL28Nl1oliqp7pxPrRPlgywvkK63z2U29wIGd7DldDh5zHIQ406TFCA\"\n        },\n        \"data_subject_did\": \"did:mydata:z6MkhnMkWDytfVEL88BRmWGeLN9vGhpdJ612QTgVMt1agqND\"\n    },\n    \"to\": \"did:mydata:z6MkhnMkWDytfVEL88BRmWGeLN9vGhpdJ612QTgVMt1agqND\"\n}\n</code></pre>\n<h5 id=\"Accept\">Accept</h5>\n<p>On receiving the <code>offer</code> message, the Data Subject (responder) displays the contents of the Data Agreement offer and can decide to accept or reject it. If the Data Subject decides to accept the offer:</p>\n<ol>\n<li>Data Agreement Offer is represented as a JSON-LD document, and proof in the document conforms to W3C LINKED DATA PROOF 1.0 specification.</li>\n<li>The Data Subject should add the counter signature to the proof chain in the Data Agreement Offer using the proof algorithm.</li>\n<li>An <code>accept</code> DIDComm plain-text message is constructed. An example is given below.</li>\n</ol>\n<pre><code class=\"language-json\">{\n    \"type\": \"https://didcomm.org/data-agreement-negotiation/1.0/accept\",\n    \"id\": \"b6ca56e5-5f2a-470f-95e6-b71690964754\",\n    \"from\": \"did:mydata:z6MkhnMkWDytfVEL88BRmWGeLN9vGhpdJ612QTgVMt1agqND\",\n    \"to\": \"did:mydata:z6MkpzHAuPc4N2jgXg23ikZjp2tQSTEHqnzzr9683AQ2EvCV\",\n    \"created_time\": \"1639288936\",\n    \"body\": {\n        \"id\": \"d900a281-31f0-4bd5-a647-2c95136250b5\",\n        \"event\": {\n            \"id\": \"did:mydata:z6MkhnMkWDytfVEL88BRmWGeLN9vGhpdJ612QTgVMt1agqND#2\",\n            \"time_stamp\": \"2021-12-12T11:32:05.047266+00:00\",\n            \"did\": \"did:mydata:z6MkhnMkWDytfVEL88BRmWGeLN9vGhpdJ612QTgVMt1agqND\",\n            \"state\": \"accept\"\n        },\n        \"proof\": {\n            \"id\": \"did:mydata:z6MkhnMkWDytfVEL88BRmWGeLN9vGhpdJ612QTgVMt1agqND#2\",\n            \"type\": \"Ed25519Signature2018\",\n            \"created\": \"2021-12-12T11:32:05.048210+00:00\",\n            \"verificationMethod\": \"did:mydata:z6MkhnMkWDytfVEL88BRmWGeLN9vGhpdJ612QTgVMt1agqND\",\n            \"proofPurpose\": \"contractAgreement\",\n            \"proofValue\": \"eyJhbGciOiAiRWREU0EiLCAiYjY0IjogZmFsc2UsICJjcml0IjogWyJiNjQiXX0..pBaGGj6LcZLwUA7kl7ABfyLLi0v0YXzqNjnY03DUqcWWPWf2TPiCKlmIBcIZCkOGZbLmyLl4j_0vncsJrRYSAg\"\n        }\n    }\n}\n</code></pre>\n<h5 id=\"Reject\">Reject</h5>\n<p>On receiving the <code>offer</code> message, the Data Subject (responder) displays the contents of the Data Agreement offer and can decide to accept or reject it. If the Data Subject rejects the offer, a <code>reject</code> DIDComm message must be constructed and sent to the requester. This message informs the requester that the Data Subject rejected the Data Agreement Offer. An example of a <code>reject</code> message is given below.</p>\n<pre><code class=\"language-json\">{\n    \"type\": \"https://didcomm.org/data-agreement-negotiation/1.0/reject\",\n    \"id\": \"68aae3a4-7c19-4541-97c6-1388778d3a98\",\n    \"from\": \"did:mydata:z6MkhnMkWDytfVEL88BRmWGeLN9vGhpdJ612QTgVMt1agqND\",\n    \"to\": \"did:mydata:z6MkpzHAuPc4N2jgXg23ikZjp2tQSTEHqnzzr9683AQ2EvCV\",\n    \"created_time\": \"1639291116\",\n    \"body\": {\n        \"id\": \"0d805251-e448-4022-b4f9-cbe125c03156\",\n        \"event\": {\n            \"id\": \"did:mydata:z6MkhnMkWDytfVEL88BRmWGeLN9vGhpdJ612QTgVMt1agqND#2\",\n            \"time_stamp\": \"2021-12-12T12:08:23.540249+00:00\",\n            \"did\": \"did:mydata:z6MkhnMkWDytfVEL88BRmWGeLN9vGhpdJ612QTgVMt1agqND\",\n            \"state\": \"reject\"\n        },\n        \"proof\": {\n            \"id\": \"did:mydata:z6MkhnMkWDytfVEL88BRmWGeLN9vGhpdJ612QTgVMt1agqND#2\",\n            \"type\": \"Ed25519Signature2018\",\n            \"created\": \"2021-12-12T12:08:23.542890+00:00\",\n            \"verificationMethod\": \"did:mydata:z6MkhnMkWDytfVEL88BRmWGeLN9vGhpdJ612QTgVMt1agqND\",\n            \"proofPurpose\": \"contractAgreement\",\n            \"proofValue\": \"eyJhbGciOiAiRWREU0EiLCAiYjY0IjogZmFsc2UsICJjcml0IjogWyJiNjQiXX0..7vx_Tk_IjKxqe16VygonM9jl61h5karcHX_scz6UN5qaSVQG1A4tz8GDkGn-OqRi8oqb2-gfc4hv4aNCwqkBCQ\"\n        }\n    }\n}\n</code></pre>\n<h5 id=\"Problem-Report\">Problem Report</h5>\n<p>Errors might occur in various places. All errors are modelled with problem-report messages. If a problem arises, the agent will respond with a problem report message that conforms to Aries RFC 0035 [9]. An example is given below.</p>\n<pre><code class=\"language-json\">{\n    \"type\": \"https://didcomm.org/data-agreement-negotiation/1.0/problem-report\",\n    \"id\": \"14525b0d-284f-42de-85ed-a2ca66a4d51c\",\n    \"~thread\": {\n        \"thid\": \"2ab0914c-9209-4b4a-8bf4-8df329ecbd3b\"\n    },\n    \"created_time\": \"1639289960\",\n    \"from\": \"did:mydata:z6MkpzHAuPc4N2jgXg23ikZjp2tQSTEHqnzzr9683AQ2EvCV\",\n    \"to\": \"did:mydata:z6MkhnMkWDytfVEL88BRmWGeLN9vGhpdJ612QTgVMt1agqND\",\n    \"problem-code\": \"controller_did_invalid\",\n    \"explain\": \"Controller DID is invalid.\"\n}\n</code></pre>\n<h2 id=\"References\">References</h2>\n<ol>\n<li>DID core specification: <a href=\"https://www.w3.org/TR/did-core/\">https://www.w3.org/TR/did-core/</a></li>\n<li>IETF Multibase Data Format specification: <a href=\"https://tools.ietf.org/html/draft-multiformats-multibase\">https://tools.ietf.org/html/draft-multiformats-multibase</a></li>\n<li>Multicodec - Compact self-describing codecs: <a href=\"https://github.com/multiformats/multicodec\">https://github.com/multiformats/multicodec</a></li>\n<li>DIDComm message specification: <a href=\"https://identity.foundation/didcomm-messaging/spec/v2.1/\">https://identity.foundation/didcomm-messaging/spec/v2.1/</a></li>\n<li>Linked Data Cryptographic Suit Registry: <a href=\"https://w3c-ccg.github.io/ld-cryptosuite-registry/\">https://w3c-ccg.github.io/ld-cryptosuite-registry/</a></li>\n<li>Aries RFC 0092: Transports Return Route: <a href=\"https://github.com/hyperledger/aries-rfcs/tree/master/features/0092-transport-return-route\">https://github.com/hyperledger/aries-rfcs/tree/master/features/0092-transport-return-route</a></li>\n<li>Aries RFC 0019: Encryption Envelope:  <a href=\"https://github.com/hyperledger/aries-rfcs/tree/master/features/0019-encryption-envelope\">https://github.com/hyperledger/aries-rfcs/tree/master/features/0019-encryption-envelope</a></li>\n<li>IETF RFC 7516 - JSON Web Encryption: <a href=\"https://datatracker.ietf.org/doc/html/rfc7516\">https://datatracker.ietf.org/doc/html/rfc7516</a></li>\n<li>Aries RFC 0035 - Report Problem Protocol 1.0: <a href=\"https://github.com/hyperledger/aries-rfcs/tree/master/features/0035-report-problem\">https://github.com/hyperledger/aries-rfcs/tree/master/features/0035-report-problem</a></li>\n<li>Aries RFC  003 - Protocols: <a href=\"https://github.com/hyperledger/aries-rfcs/tree/master/concepts/0003-protocols#types-of-protocols\">https://github.com/hyperledger/aries-rfcs/tree/master/concepts/0003-protocols#types-of-protocols</a></li>\n</ol>"}},
    "staticQueryHashes": ["3000541721","3766577012"],
    "matchPath": "data-agreement-negotiation/1.0/*"}
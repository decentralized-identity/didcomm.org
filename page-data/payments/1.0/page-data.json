{
    "componentChunkName": "component---src-templates-protocol-protocol-tsx",
    "path": "/payments/1.0/",
    "result": {"data":{"markdownRemark":{"html":"<h2 id=\"Summary\">Summary</h2>\n<p>A DIDComm v2 protocol for a secure payments handshake to propose, invoice, and settle off-rail payments. It enables:</p>\n<ul>\n<li>Introducing payment coordinates (e.g., bank or EVM) once with proof of control</li>\n<li>Negotiating how to pay and any tax/compliance preconditions</li>\n<li>Exchanging receipts without re-sending sensitive details</li>\n<li>Reusing stored methods per connection with sensible defaults</li>\n</ul>\n<h2 id=\"Motivation\">Motivation</h2>\n<p>Agents need interoperable, privacy-preserving payment interactions without embedding rails, custody, or FX into the protocol itself. This protocol standardizes messages, validation rules, and error taxonomy to coordinate payment terms and confirmations while keeping actual fund movement out-of-band (bank rails, on-chain transfers, PSPs). Non-goals include on-rail settlement and FX execution.</p>\n<h2 id=\"Version-Change-Log\">Version Change Log</h2>\n<h3 id=\"10\">1.0</h3>\n<ul>\n<li>Initial draft.</li>\n</ul>\n<h2 id=\"Roles\">Roles</h2>\n<ul>\n<li><code>payer</code>: The party that sends funds to settle an obligation.</li>\n<li><code>payee</code>: The party that receives funds.</li>\n</ul>\n<h2 id=\"Requirements-normative\">Requirements (normative)</h2>\n<ul>\n<li>All messages use standard DIDComm v2 encryption.</li>\n<li>Sign-then-encrypt is RECOMMENDED for <code>handshake-request</code>, <code>receipt</code>, and <code>confirm</code> for non-repudiation and auditability.</li>\n<li>Use standard DIDComm v2 message fields: <code>id</code>, <code>type</code>, <code>from</code>, <code>to</code>, <code>thid</code>, optional <code>pthid</code>, <code>created_time</code>.</li>\n<li>Sensitive coordinates and tax details MUST appear only in <code>handshake-request</code>.</li>\n<li>If external attachments/links are used, include a content hash (multihash/multibase) and optionally a detached JWS; receivers MUST verify hashes before use.</li>\n</ul>\n<h2 id=\"Discoverability\">Discoverability</h2>\n<p>Agents SHOULD advertise via Discover-Features:</p>\n<ul>\n<li>Protocol: <code>https://didcomm.org/payments/1.0</code></li>\n<li>Claims (capabilities): <code>method:evm</code>, <code>method&#x3C;img class=\"emoji-icon\" alt=\"emoji-bank\" data-icon=\"emoji-bank\" style=\"\" src=\"data:image/png;base64, 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\" title=\"emoji-bank\" />iban</code>, <code>method&#x3C;img class=\"emoji-icon\" alt=\"emoji-bank\" data-icon=\"emoji-bank\" style=\"\" src=\"data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAVlklEQVR4Xu2bB7SlVXn3f/ut5z3lnltm5s6dWi5TmBlhlBZRURMLKKjESFOTfKAsYSIQA0tWjDJgw4JoVKREAbuAfkK+yPgZoiwTQRQ0UqYpbSjTbjv1bXvv3Nnvueess2a4l8EIs5butfY69+zzPrs89f88+71Ca80fc7P4425/YoDD89z6i/4ZpcD+cODasYXQAAr9+0sSQWsukSTarjaT7+2qRRcfVAwQQgTDcwrfmN8fUPAcBBr9vzk/WWumip3j4ft7C95N4/X4voOGAUNl/5uDPTn6Cx6e/YexPgHktEJLaETp94AlTNOetyhQLrqvn1cONs4r5wh8G8EftkWJYlclZPtYeNlINbrkBdeAgmffnPcdpNY0Y8Ufummt8T2bUs7+UBCI65tN/egLxoCcI24pWpRGoohxAZrnrzVTEAn/LoRYrifb884AIUSpWAhWDK87nJ5yD7b9/EVerTT1RoOtDzzU39w9sgrY9IL4gJe98Y1vPeG0M255ydFH4+cLoA/ApQPoaX6b5pk0Ttj60IP86JabP3/bjdef94KZgOu6Pc3KBHG1hm85BMUCaLHPhpVMSZKENI5RSk1pEK7vk8vlAJCppFGv0RJc5xnXJ5fPnomjiCgMSaOIsDpBGEXFF9IJmkPJJAUhaNbrPPCre3EdB4QFHX0ll88zd8FC+ucM0qhMEEURruexZ8cOnnrsMSzHJpcLWLJiBTJJOj4myNOoVfnNfb9AxTHl/gEWDQ8jlUKmKTKODg4c4OcCtj14Pxec+jaKuRxaaFSStqRo4QU5CqUejj3+DZx54UV4QUC+UODWr32VL3z4UixgeNVKrtl4B1JKoyWe72O5Dpe/7wL+845/RwAf/MJVLFu9Gl2vo/VBhAQ12kh0xfAyevsH0Jl5kEpJs1pBaQDND75+A6M7d/DBq74EQLFUZPnSpeSLRfoH56JVi2m2TancxzUfvZQt9/2SlcuW8sa/PZNXn/gmmo3GQZgMaW16mkqzQS+X492XXMp7P/4J3vWhS1m8YqWx55WHruGhn9/Nbx94EN8PWjTpZE+QWoEGAfT393PHrd/l1uu/QqlY4rCXH8drTzmNOArRMqUtfnGwMABhnFeaJMYvRHHEnAULWbjsEI561Z/zutNOJwojEikRlqBRrWI5FkrplnNMkFIZJhV7e/nt5k188ZIPEeR8Bhcv4tT15xnfIpPkoMsGzcE12nxKKU03Uk1SkjghVyyYsTAMwbKMYysPzDLPTNEkxu5T4xuiMOQT7zufqFpl1tBc3n7BRcZ5NuvVdoTQrXXRB006bKGFIEmzcKcR9A0MUO7v46nHH+M7V3/JHKwyMcGJ73gnC5YuJY5jlFYkaYyb+oBFoaeHKy66iN/efz/lcpm3nHU2a446ktA4PX2wFkT0FPIiiWM0UK9UuO4TH+Oy9efy7te/lk33/pKe/n7efNZZnHrOuSQyBanRGuI4M5ugUOCWL3+ZjTd9k2JPDyec/naOP/V0wkYDKeXBWRCxXBdhWSBAKmU0QAPViQm+9oXPA1AMAhYsW8pfvfscTnrnO0iimPGREVRRoZQypmI7Do9s3cKv7r6bcm+fYaQSgqBYpNnYV/rmuxnTL6wG+K67OyiWcGwLwNh1FIV4nsdxr3s9R7/s5eSLBR7dspVPvf9C3vuXJ/Potq0mxAlhGRMwNGFIqdzLqsMPo1Gv4/g+N37us9z2tRvpmzUbIcT+D2nbB64BQghvXtm7Ouc5wnquCZwldH28ng6tXbu6b/AsHNcBbRhgDlCc18uFn74S13N4fNs2vnrlZ/jFnT/mnjt/wvo3n8TV/+92Vhx2GChNqhSNZsMAn/M/8nEueNvJVCYqlAoFPnPxRSxbsYqVLz6ciZE9negnwPU9kjRNDpgBc0r+5+eUg//Tm3exxXOtTwnGrZieYoFiTwnbtlFIUq2NcwvDJpaF0YQVLzqci664kvdNosSnH3uUifFxrr/ik1z5nZszxAgmWlQqFZatXcP6Sy7jkvecTaFYII5iLjnnXfzLD+/AD4omEoAw2lPs7WPPk08OHBADenyxauHs0tlDZZ9izkEI8RxTYdANGz/n4/g5g9y0AsDYdJpI8xmHEVI2mLd4MSvXrePhrVsQwO82baZerQGibTpGe8YrHHfiSZxx7nq+ftUXKRQKPPn4di77u3O5/PqvkkQ+SRIhTDgtUO7reasQYpXWevOzYkCp4N9UznlYlkWUKp5rs4QgTFNcBLZlGYlMqafUGmFB78AA+ULRAJ/K6Chb7v9vAHRmhi0fAAAKUGmKVBJZj3nHeRew7aEH+flPfoLvedw1mQvccOUVnP2PH2D30zsQaHKFAqVSiTzcBBw2IwP6AufMuX3BixwHoiRF/H7FEBqxItAKhEGBXZ66UWtw079cZ5jz9PbH+fl//AfbH3kYWwjDoLVHHmXgsozjNo1U0swRxSGe6/O+yz/Je9/yZnbteBqA6ycZMLxmDa9+w4mM7tmD43nk8wF5hxf1FZwzx+rpV56RAUKIXK/HdUnYZFxGPPcmMFFP2IyOKYpR2g43Snb8UWVinKsu20B3M9phUt7Tzz2XKGyYiDHVatUaUzgvjBrMnjuXiz/3uUnfcUqb/p/edSbX3r6R4ZWHElVrCNtBpiAcdZ0Q4pta63C/DCgUguuK5R7Ly/tox/p9YK85BFoR1nYhbRelJVKmJhucXIPAD8CypghQaOMk5y9ZyjGvehWv+cu3UiyVaNRqlMplE/4sx2bBsiXINGlrU61a5cUvPZb1H9rANyYxheM6xm9c/+lPs+FLV2NZAmwX7dsUyn1WbNevA96535LYa0855bGjTzhx0YJlw1iOs/+SkwBg2t/iJDaSGhsd5Xf33YcV1g20HejrR0uFQrd9RKdhxj3Px3Fck9GlaYJAoAVopRAAwkIAqpUVAmavjmOTxub5DDckCZ6fo5FE/OjmW3hq505mLVjAI7++7/Gf/utti/erAZbn1z3XJefYTO1NC2E2amI4tCaXCJ3ZuO06GKCgyKovWoMA27JxLAECg+S0VmiVHT7n+yBoZYYpGhCA5zhYQBKFZi4lFQCWZZn5srACti0AC6UgSaTJ/rSUJpxaLbCV2LZZF6WM9mEJbNfDdtz6M/oALTVaSsM9A13J7FgLRdioIdB7J8ByPKSUpsLbrNVb0hG4uQCVZtxXMjEhy/ymAcQUNqJeGQc0CNvU+6RURlWTRogyDNF4QR7RcpxKKdMNw21Bsx4ilALHMSYlpUAICJt1EyW0AM8PEG0Ip6ElBNA8MwO0bC8oyFpPOc+PN97JtZ+7CXIFlh8ywIbLLySMNFEz5MLzP04tsiCs8OFPXsCi4aUG4GSmpdFKgpaGEbnAZ9umraw/52MQFCkFihu+8jG8XECQc/m79ZezectOCBv8w8V/zRve9DrGxytMtSDv8/CWh1m//mOQ20uvJ+k/+oz0b3rL8dSbTbTS5vDmfNMxAOiEKt2yU61oag+WvgYGhqiJR7FUikChZEy9bw3MXgtPPESSamyh2jZr5mnbuTDSj6WGoT+Dhauo7nnQaJwFWEpSCRbCmpfB6FM0lIstujdro4mVhrkz0I9M0usMwSoBCECbPhMS1CgtuxigZYLtF2DZ0dizFuJXFFrGaG1nQGPeKvSSYwltH8t2UFIaU1Jag2rNo8WUDzDPsHgd/vCRWK5CIFu/peRmLUYUX4retR0naJi1zV46wnl29OXtuLkGUiXorn0AcsZsMLO7TldoNLg5hB+gLduMmd+URlgewsuBk+s4OgEC6OxdobMRhAAcH+HmwPWA1sNoLMtpjfvG3hEKBO3eFuPM9GDoO/toOd0ZNECDlqpbA6Y0QnUmkK1npGEOaC1afiaL/0oZRrQZJfYbN7M5u0cFGkBNk37qZ0uvu8SsNa1zTesENYhuH6C0IIpSmKgh3Sa1WrM9mZKKZqUOo43sd+mBUtDtR4DMBJQJexJGa4QjdRivImU2rjRMVGvouAajFcIwQdMtNaUhkemzpE+htSYZmgDT1TQaoEBJuqJApR5z1OohhoYcsMfoEUtpJppUpTiez8V/tZDY2Y04YoChOQ7NKG0zQKPBfAIIwkiyYGiAD/6Ni/JqBHIlbuCTpJnI3/+2NYwmCSLpZ+V8l2ot7b7pDRMWDs2epPdnpl/gUq0nCHR3UVZM7wT3iQJxnJLvyfPiWRkXY1Wm1kzbZrnykB5sEhRFqk1JKpUxA6Z6y/oRGWhxcj6vPGoIoSWSIpV6glISJWHtoXPxLA2iSK2pibrL26RS4h4QfZptoZOCgpo2DCo0sksDIKORTg4B2R2fjlE6Q2hSuGD7aAXQyGx/Si2V7tiemjIvULZv0GWGEONOuLRcdAtxatHcn9M6cHqtEVN02R/TRAHNPot65nJyFz+45XZu/95GfnXXvWbMsiwEip/+6E5u/7//nx/e9kOiRsOMa6ENI+h2OriOY4qXt3zr+9z09e+z8daNWJY2NL7v8Z8//hnf/vr3+PZXb+Hpp57E871uaT1Heg0ZIzJznMEJ6m4fkMs53P+bbXz3hrug1E95tuQlxxyOlBA1m9x4453gzYKxHSxcspDhlcvQoYapENqOJgrPtXnqiZ1ce8W/Qv88SEc45qVHkMsX8V3BVTdsZOzJBCrjqAs9Tj99GSNhJy3PeS6/2/rs6VeuWM7YRKUT0pWGmZCgMlzqPKhkDPk+OPoMGFiA1bgHlcZoMhVk+ath0bHw6K/RtpuFTTUFpvajv5YD694MS4+A7Xe1wq6CVOEsWAfDL4Hd2xF5F2QKuguqHxi9SuleXqGm0wCl94XCUSKZP7uHQ5aXsPIei/XsrCQlBbawOWL1HGolB8vvp6fgEidpax5lOtlc2Y2QlJRLeVZN0jDg0lOei+1mZe9YCY45dIgtaYDs72fRXIcwTbrS7zidoh98RvrNaYCaoo8TxL4oYQYnqFXHaQH1WsTK4Tkc8yIXSIjkMvZUMyzg2A7nnbwIx2qgGZocj4jDlA43u6KKCWOz5/RzzXmDCCSpPoI9tdhEhyQVnH/GEfiWRog+xpqSajVCCNotiqbo5+6f/vRJelvDFH096qh+ex/T+QBogYruKFCPU+qpbKMvlTHHSHRnLSRrAiU1QigwUaAbBeqOFNnVIGtKIVUn5x9tZOAFAGG1ahDdLdWwoxaCAiyBQLTNa6yZIiwAUGmWPitAiHYqMFM2uG/WJMwiiqQZIrTAch0sx0VLbXL4NIogO4QpfUsJsnUITZYUWdCWgi0ESb2RMceycXwPKZW5JgsbDcQB3ja6nk+p3GO0UcYRKk3QYIqpAses0y3h6UxAAiqL4RnvoFjIc9eP7+FbN/wQvDxLF5c4/+KziLUkiZt8ZMO1NGIXoupkDv5O5i9eQJTEWRhU3aEnF+zN57fx9xdcAbkSpUBy7TWXEsWJKWQsXrLUlMFmbp1S2MTIiLlEWTy57t+ffwVbtu2CsM55/3AGJ5z0WqphsyV+hVYz+gDQneoLZHl2Vg9YdgL0D1JNN4NKEGQlsEbfOph7GDyxiViCoJUIZSCoq9lCE6Uaho6FRWuo7vyN8exR2KReqRIPDpIcwMsNNpj3ABuNOhaSidxiWPtKGNlJXXnYolvceiYnaFAgLRDTYkCSxNhuDmYNQd8C3OYYKo2QqW3CndO3kHRgNTRjLKEMUuxkghkqxCA1w1wDZuhfCr2rsKIxBBipT1QmGKtUkKkEse8Fi9oPKrQti7GxMeM/kClezxywVoEq4vrSrNcRrG7va9p0uEtshsMxR62dz9FrA7RVRchhmnFqJOe4Ph99+xK0OwpyECFCkwxp2SmqdLygph7GLJg/iy9f2I+2LWx1FI7r4voBtVqVb37qctJm2HWbK4QglcocFvQ+lau1rziOQ488kkqY8pGzjiLGA7WMfE4xXm0ius8zfTqMmZQuDdBAakkcqwZKkwoLmWoAFCDsCCEbaGGRpq05OhvM6v3ojhSwKfc6IBRau8SJwvd9Fi1fxb0/+DdIYly/AAoskSVA4fgY+VKJXBAY8wSQaWLuBOYvX06x1EOSKPyiR9HSKGzixGpHK6bqk9qca3ofYDimuzltex75wAe0ST3rtWY2blsE+VymokKYcZUa6bdrgkIDnRK7kWShVDCSlVKSVGrGLObMmc28RUvoL/fSO3vAhDHLsQ32f2TTFuYtWUT/7NmkcZrdWYZN41Dnzh0i8H3DmHwhwHVcQFOvNw1u6BJ8JtxnToaMxLIXENvd8zwe2/YI1/zzN7jui99h42134LpOFmNlynduvJUvX30zN1z1bap77dG2jAmojJHmU7QQpuc45q2Pj2z4LB/e8M98/jPXgVJZ3d+2yeV8BgbnMDg0jzlDcyc/h5g1Z5B8sWBegJganzNvcnxoiKCQx3YcNBrfd/nWjd/lsg9+lg0fuILND24myActaE9Xej5tTbCjvln3XMH2J8d5cIvN/U/0c/cDI9iWNPX5NI646/4K/71jNr9+MGJ8vI5tiZbk9T4x2HVt9oyM818/3cl/bfLYeOd2kjgyDEDpTCPimGiyx3t7FJnviZSk2ffOeBgiZSvcCgvXhtt/9jA/e0Bw910TbH14B3nfPtCXpHS7sNnuMkbnSrD6jXD4KYjB1egkRqeZs2PRMbDuNDjkNcYPoFK0pq0BolUXQLSigePB8r+AF58Ki48BJZkyeNl6gbJZq9Go1yd7g7DZQCYxYbNJ3Yy1uzGHNhKUidkb606F1SdB0Gvm1nRB8plxgJmwA15ohCkrF/ajigH4EQPJIHGqSZU2UPXkY2cTFeqIeWUGem1TQRJKIjo5AFjZvHGSMNhf5uTXaVQRSquW4vouUmocB6MB0V4G1OsoU0K3aTZD0lQShSHh3kOnxgfsZYj5GwFoRZQqTnvVMNtTGx3N4rBhTT1MusUsZsQB2SZUJwoQhYq+/hxvmN8AqkQyz3gtBjLbfcUaD8fajsJhrOZld3Vao1vz6Mz7m8gRRgmFUo73nLQYS0tSvYyRSmh8ieV6SGkOag6nWr4hMgdNiKLIaIeUkg4DkjboaiaK41+xlMBWaPJMNFMajQidarSa4tMMyVBtfLy8+4knSKImaEMCott3IECIzvftmu5XYgA1Zcv1JvXxMRyteXjLQ+RLPRlGQHdrXOt/AkZHRmi6jnkZSqos10ji2NwyC8s2ap8xQGSv0U1MsHXTpux+ME33mdeybaIoZHT3bhr1KmK3sxdvlJ+RAZWRkXu3/PKeei4IpBCWBtAcYBOYQxqpK0nUaIJWhLf/G7btobqQWHe5a8ejjyAA13bal6daptTrNUb3jJiLWbQERAaho5g7b/s+NhZyP/PawjJ7mNizmziKxdhTO+04CTfTafzpn6f5425/YsD/ABtu93XHGByzAAAAAElFTkSuQmCC\" title=\"emoji-bank\" />upi</code>, …</li>\n<li>Optional: supported assets (CAIP-19), chains (CAIP-2), compliance features (e.g., <code>vc:legal-entity</code>, <code>ivms101</code>), quotes, refunds</li>\n<li>Subscriptions/profile claims: <code>subscriptions:autopay</code>, <code>subscriptions:notify</code>, <code>subscriptions:updates</code>, <code>subscriptions:retry</code></li>\n</ul>\n<h2 id=\"Data-Conventions-normative\">Data Conventions (normative)</h2>\n<h3 id=\"Assets--Amounts\">Assets &#x26; Amounts</h3>\n<ul>\n<li>Identify assets with CAIP-19 (e.g., <code>eip155:137/erc20:0x…</code>).</li>\n<li>Amount carried as:\n<ul>\n<li><code>quantity</code> — atomic units as a string, canonical for validation.</li>\n<li><code>display</code> — UI-only object <code>{ \"currency\": \"&#x3C;code>\", \"value\": \"&#x3C;decimal string>\" }</code>.</li>\n</ul>\n</li>\n<li><code>decimals</code> MUST be supplied when not reliably derivable or to avoid live lookups.</li>\n</ul>\n<h3 id=\"Chains\">Chains</h3>\n<ul>\n<li>Identify networks with CAIP-2 (e.g., <code>eip155:1</code>, <code>eip155:137</code>).</li>\n</ul>\n<h3 id=\"Canonical-Hashing\">Canonical Hashing</h3>\n<ul>\n<li><code>terms_sha256</code> = SHA-256 over JCS-canonicalized <code>terms</code> JSON; base64url.</li>\n<li><code>receipt.summary_hash</code> MUST match <code>terms_sha256</code>.</li>\n</ul>\n<h3 id=\"Proofs-of-Control\">Proofs of Control</h3>\n<ul>\n<li>EVM: EIP-191 or EIP-712 signature over a challenge binding <code>{did, session.id, timestamp}</code>.</li>\n<li>Bank: pluggable proof (micro-deposit code, bank attestation, VC, Open-Banking consent ref).</li>\n</ul>\n<h3 id=\"Cross-protocol-correlation--extensions\">Cross-protocol correlation &#x26; extensions</h3>\n<ul>\n<li>Optional correlation fields allowed in any message body: <code>mandate_id</code>, <code>cycle_id</code>, <code>quote_id</code>.</li>\n<li>Messages MAY include <code>ext</code> (object) for namespaced extensions. Keys SHOULD be reverse-DNS URIs and unknown keys MUST be ignored.</li>\n</ul>\n<h2 id=\"States\">States</h2>\n<p>State machine (base flow):</p>\n<pre><code>query-methods → methods (optional)\ncompliance-request → compliance-response (optional; REQUIRED if demanded)\nhandshake-request → requested\nhandshake-accept → accepted\nreceipt → receipted\nconfirm(received|pending|settled|failed) → terminal\ncancel or problem-report at any time → abandoned\n</code></pre>\n<p>Sessions expire at <code>session.ttl</code>; late receipts MUST be ignored and MAY elicit a problem-report (<code>session-closed</code>).</p>\n<h2 id=\"Basic-Walkthrough\">Basic Walkthrough</h2>\n<ol>\n<li>Discovery and Compliance (optional): <code>query-methods</code> → <code>methods</code> → <code>compliance-request</code> → <code>compliance-response</code></li>\n<li>Secure Reveal and Acceptance: <code>handshake-request</code> (coordinates, terms, invoice, tax) → <code>handshake-accept</code></li>\n<li>Off-rail Payment and Confirmation: Payer pays off-band → <code>receipt</code> (tx ref, summary hash) → <code>confirm</code> (received|pending|settled|failed)</li>\n</ol>\n<h2 id=\"Security\">Security</h2>\n<ul>\n<li><strong>Confidentiality &#x26; Integrity</strong>: Standard DIDComm v2 encryption provides message confidentiality and integrity; place sensitive data only in <code>handshake-request</code>.</li>\n<li><strong>Non-repudiation</strong>: Sign-then-encrypt recommended for <code>handshake-request</code>, <code>receipt</code>, <code>confirm</code>.</li>\n<li><strong>Replay protection</strong>: Bind proofs to <code>{did, session.id, timestamp/nonce}</code>; enforce reasonable clock skew.</li>\n<li><strong>Data minimization</strong>: Receipts exclude coordinates and full terms; include only references and hashes.</li>\n<li><strong>DID/Key rotation</strong>: Require <code>thid</code> continuity; if <code>from</code>/<code>to</code> rotate, re-auth on next hop.</li>\n<li><strong>DoS prevention</strong>: Rate-limit concurrent sessions per connection; cap payload sizes; reject oversized attachments.</li>\n<li><strong>Privacy in logging</strong>: Redact coordinates, VCs, and IVMS data; log only hashes/IDs.</li>\n</ul>\n<h2 id=\"Message-Reference\">Message Reference</h2>\n<p>All examples are DIDComm JSON bodies (outer envelope omitted for brevity).</p>\n<h3 id=\"query-methods\">query-methods</h3>\n<p>Message Type URI: <code>https://didcomm.org/payments/1.0/query-methods</code></p>\n<pre><code class=\"language-json\">{\n  \"type\": \"https://didcomm.org/payments/1.0/query-methods\",\n  \"id\": \"q-93f...\",\n  \"to\": [\"did:peer:payee\"],\n  \"from\": \"did:peer:payer\",\n  \"body\": {\n    \"want\": [\"method:evm\", \"method&#x3C;img class=\"emoji-icon\" alt=\"emoji-bank\" data-icon=\"emoji-bank\" style=\"\" src=\"data:image/png;base64, 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\" title=\"emoji-bank\" />*\"],\n    \"meta\": {\n      \"purpose\": \"invoice|deposit|refund\",\n      \"amount\": { \"currency\": \"USD\", \"value\": \"120.00\" }\n    }\n  }\n}\n</code></pre>\n<h3 id=\"methods\">methods</h3>\n<p>Message Type URI: <code>https://didcomm.org/payments/1.0/methods</code></p>\n<pre><code class=\"language-json\">{\n  \"type\": \"https://didcomm.org/payments/1.0/methods\",\n  \"id\": \"m-2b1...\",\n  \"thid\": \"q-93f...\",\n  \"to\": [\"did:peer:payer\"],\n  \"from\": \"did:peer:payee\",\n  \"body\": {\n    \"supported\": [\n      { \"code\": \"method:evm\", \"variants\": [{ \"chain\": \"eip155:1\" }, { \"chain\": \"eip155:137\" }] },\n      { \"code\": \"method&#x3C;img class=\"emoji-icon\" alt=\"emoji-bank\" data-icon=\"emoji-bank\" style=\"\" src=\"data:image/png;base64, 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\" title=\"emoji-bank\" />iban\" },\n      { \"code\": \"method&#x3C;img class=\"emoji-icon\" alt=\"emoji-bank\" data-icon=\"emoji-bank\" style=\"\" src=\"data:image/png;base64, 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\" title=\"emoji-bank\" />upi\" }\n    ],\n    \"assets\": [ \"eip155:137/erc20:0x2791...4174\" ],\n    \"defaults\": { \"preferred\": \"method:evm\", \"variant\": { \"chain\": \"eip155:137\" } },\n    \"reusable_supported\": true,\n    \"subscriptions_supported\": true\n  }\n}\n</code></pre>\n<h3 id=\"compliance-request-optional\">compliance-request (optional)</h3>\n<p>Message Type URI: <code>https://didcomm.org/payments/1.0/compliance-request</code></p>\n<pre><code class=\"language-json\">{\n  \"type\": \"https://didcomm.org/payments/1.0/compliance-request\",\n  \"id\": \"crq-01...\",\n  \"thid\": \"hs-77c...\",\n  \"body\": {\n    \"vc_presentation_definition\": {},\n    \"ivms101_required\": false\n  }\n}\n</code></pre>\n<h3 id=\"compliance-response\">compliance-response</h3>\n<p>Message Type URI: <code>https://didcomm.org/payments/1.0/compliance-response</code></p>\n<pre><code class=\"language-json\">{\n  \"type\": \"https://didcomm.org/payments/1.0/compliance-response\",\n  \"id\": \"crs-01...\",\n  \"thid\": \"hs-77c...\",\n  \"body\": {\n    \"presentations~attach\": [\n      { \"media_type\": \"application/vc+ld+json\", \"data\": { \"base64\": \"&#x3C;verifiable presentation>\" } }\n    ],\n    \"ivms101\": {}\n  }\n}\n</code></pre>\n<h3 id=\"handshake-request-single-secure-reveal\">handshake-request (single secure reveal)</h3>\n<p>Message Type URI: <code>https://didcomm.org/payments/1.0/handshake-request</code></p>\n<pre><code class=\"language-json\">{\n  \"type\": \"https://didcomm.org/payments/1.0/handshake-request\",\n  \"id\": \"hs-77c...\",\n  \"thid\": \"hs-77c...\",\n  \"pthid\": \"parent-protocol-id-if-any\",\n  \"to\": [\"did:peer:payer\"],\n  \"from\": \"did:peer:payee\",\n  \"body\": {\n    \"session\": { \"id\": \"ps_4a2c...\", \"ttl\": \"2025-12-31T23:59:59Z\", \"nonce\": \"n-0f...\" },\n    \"mandate_id\": \"man_8f3a...\",\n    \"cycle_id\": \"2025-10\",\n    \"ext\": {},\n    \"terms\": {\n      \"request_id\": \"req_7f9a...\",\n      \"asset\": { \"caip19\": \"eip155:137/erc20:0x2791...4174\", \"decimals\": 6 },\n      \"quantity\": \"120000000\",\n      \"display\": { \"currency\": \"USDC\", \"value\": \"120.00\" },\n      \"invoice\": {\n        \"invoice_number\": \"INV-2025-091\",\n        \"issue_date\": \"2025-08-31\",\n        \"due_date\": \"2025-09-07\",\n        \"line_items\": [{ \"desc\": \"Pro subscription (Sept)\", \"qty\": \"1\", \"unit_price\": \"120.00\", \"hsn_sac\": \"9983\" }],\n        \"discounts\": []\n      },\n      \"tax\": {\n        \"jurisdiction\": \"\",\n        \"scheme\": \"GST\",\n        \"place_of_supply\": \"\",\n        \"registration\": { \"payee\": \"\", \"payer\": null },\n        \"lines\": [{ \"code\": \"GST-IGST\", \"rate\": \"18.00\", \"basis\": \"120.00\", \"amount\": \"21.60\" }],\n        \"reverse_charge\": false,\n        \"exempt_reason\": null\n      },\n      \"network\": { \"chain\": \"eip155:137\", \"confirmations_required\": 20 },\n      \"fees\": { \"payer\": \"payer\" },\n      \"partial_allowed\": false,\n      \"tolerance\": { \"under\": \"0.00\", \"over\": \"0.00\" }\n    },\n    \"payee_coords\": {\n      \"method\": \"method:evm\",\n      \"evm\": {\n        \"address\": \"0xABCD...\",\n        \"chain\": \"eip155:137\",\n        \"wallet_type\": \"EOA\",\n        \"proof\": { \"type\": \"EIP-712\", \"challenge\": \"did:peer:payee|ps_4a2c...|2025-08-31T14:00Z\", \"signature\": \"0x...\" }\n      }\n    },\n    \"method_ref\": \"pm_abc123\",\n    \"compliance\": {\n      \"policy_uri\": \"https://example.com/policy/aml-tax-v1\",\n      \"vc_requirements\": [{ \"purpose\": \"legal-entity\", \"accepted_schemas\": [\"vlei:legal-entity\", \"org-reg:tax-id\"] }],\n      \"ivms101\": { \"required\": false }\n    },\n    \"integrity\": { \"terms_sha256\": \"base64url(JCS(SHA-256(terms)))\" }\n  }\n}\n</code></pre>\n<h3 id=\"handshake-accept\">handshake-accept</h3>\n<p>Message Type URI: <code>https://didcomm.org/payments/1.0/handshake-accept</code></p>\n<pre><code class=\"language-json\">{\n  \"type\": \"https://didcomm.org/payments/1.0/handshake-accept\",\n  \"id\": \"ha-5d0...\",\n  \"thid\": \"hs-77c...\",\n  \"to\": [\"did:peer:payee\"],\n  \"from\": \"did:peer:payer\",\n  \"body\": {\n    \"session\": { \"id\": \"ps_4a2c...\" },\n    \"selected\": { \"method\": \"method:evm\", \"variant\": { \"chain\": \"eip155:137\" } }\n  }\n}\n</code></pre>\n<h3 id=\"receipt\">receipt</h3>\n<p>Message Type URI: <code>https://didcomm.org/payments/1.0/receipt</code></p>\n<pre><code class=\"language-json\">{\n  \"type\": \"https://didcomm.org/payments/1.0/receipt\",\n  \"id\": \"rcpt-2a77...\",\n  \"thid\": \"hs-77c...\",\n  \"to\": [\"did:peer:payee\"],\n  \"from\": \"did:peer:payer\",\n  \"body\": {\n    \"session_id\": \"ps_4a2c...\",\n    \"request_id\": \"req_7f9a...\",\n    \"mandate_id\": \"man_8f3a...\",\n    \"cycle_id\": \"2025-10\",\n    \"ext\": {},\n    \"proofs\": [\n      {\n        \"network\": { \"chain\": \"eip155:137\" },\n        \"tx_ref\": \"0xTRANSACTION_HASH\",\n        \"summary_hash\": \"same-as-terms_sha256\",\n        \"payer_hint\": { \"evm_from\": \"0x12..34\", \"masked_bank\": \"****1234\" },\n        \"payer_proof\": { \"type\": \"EIP-191\", \"challenge\": \"did:peer:payer|ps_4a2c...|rcpt-2a77...\", \"signature\": \"0x...\" }\n      }\n    ]\n  }\n}\n</code></pre>\n<p>Idempotency: A receipt is unique per <code>{session_id, tx_ref}</code>; duplicates MUST be accepted as no-ops.</p>\n<h3 id=\"confirm\">confirm</h3>\n<p>Message Type URI: <code>https://didcomm.org/payments/1.0/confirm</code></p>\n<pre><code class=\"language-json\">{\n  \"type\": \"https://didcomm.org/payments/1.0/confirm\",\n  \"id\": \"ack-88de...\",\n  \"thid\": \"hs-77c...\",\n  \"to\": [\"did:peer:payer\"],\n  \"from\": \"did:peer:payee\",\n  \"body\": {\n    \"session_id\": \"ps_4a2c...\",\n    \"status\": \"received|pending|settled|failed\",\n    \"reason\": null,\n    \"mandate_id\": \"man_8f3a...\",\n    \"cycle_id\": \"2025-10\",\n    \"ext\": {}\n  }\n}\n</code></pre>\n<h3 id=\"cancel\">cancel</h3>\n<p>Message Type URI: <code>https://didcomm.org/payments/1.0/cancel</code></p>\n<pre><code class=\"language-json\">{\n  \"type\": \"https://didcomm.org/payments/1.0/cancel\",\n  \"id\": \"cn-01...\",\n  \"thid\": \"hs-77c...\",\n  \"body\": { \"session_id\": \"ps_4a2c...\", \"reason\": \"user-cancelled\" }\n}\n</code></pre>\n<h3 id=\"method-update-and-method-revoke\">method-update and method-revoke</h3>\n<p>Message Type URIs: <code>https://didcomm.org/payments/1.0/method-update</code>, <code>https://didcomm.org/payments/1.0/method-revoke</code></p>\n<pre><code class=\"language-json\">{\n  \"type\": \"https://didcomm.org/payments/1.0/method-update\",\n  \"id\": \"mu-01...\",\n  \"to\": [\"did:peer:counterparty\"],\n  \"from\": \"did:peer:owner\",\n  \"body\": {\n    \"method_id\": \"pm_abc123\",\n    \"code\": \"method&#x3C;img class=\"emoji-icon\" alt=\"emoji-bank\" data-icon=\"emoji-bank\" style=\"\" src=\"data:image/png;base64, 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\" title=\"emoji-bank\" />iban\",\n    \"variant\": { \"region\": \"EU\" },\n    \"payee_coords\": { \"bank\": { \"scheme\": \"iban\", \"iban\": \"DE89...\", \"bic\": \"COBADE...\", \"name\": \"Acme\", \"proof\": {} } },\n    \"reason\": \"rotation\"\n  }\n}\n</code></pre>\n<pre><code class=\"language-json\">{\n  \"type\": \"https://didcomm.org/payments/1.0/method-revoke\",\n  \"id\": \"mr-01...\",\n  \"to\": [\"did:peer:counterparty\"],\n  \"from\": \"did:peer:owner\",\n  \"body\": { \"method_id\": \"pm_abc123\", \"reason\": \"account-closed\" }\n}\n</code></pre>\n<h3 id=\"Quotes--refunds\">Quotes &#x26; refunds</h3>\n<ul>\n<li><code>quote</code> — payee issues a firm quote with <code>quote_id</code>, <code>expires_at</code>; payer MUST echo <code>quote_id</code> in <code>receipt</code>.</li>\n<li><code>refund-request</code> / <code>refund-receipt</code> — mirror receipt semantics, referencing original <code>session_id</code>.</li>\n</ul>\n<h2 id=\"L10n\">L10n</h2>\n<p>Localization applies to human-readable fields (e.g., invoice <code>memo</code>, error <code>comment</code>). Protocol validation uses canonical, language-agnostic fields.</p>\n<h2 id=\"Validation-Rules-normative\">Validation Rules (normative)</h2>\n<ul>\n<li>Replay/anti-phishing: Proofs MUST bind to <code>{did, session.id, timestamp/nonce}</code>; enforce reasonable clock skew.</li>\n<li>Tax math: Receiver MUST recompute tax from <code>terms.invoice</code> &#x26; <code>terms.tax</code> and verify <code>summary_hash</code>.</li>\n<li>Payer binding: If the rail reveals payer (e.g., EVM <code>from</code>), <code>payer_proof</code> is OPTIONAL; otherwise include <code>payer_proof</code> or rely on bank API identity.</li>\n<li>Amounts: Validate using <code>asset.caip19</code> + <code>quantity</code> only (never the UI <code>display</code> field).</li>\n<li>Confirmations: Respect <code>network.confirmations_required</code> when deciding settled vs received/pending.</li>\n<li>Compliance gating: If <code>vc_requirements</code>/<code>ivms101</code> present, no <code>handshake-accept</code> until a valid <code>compliance-response</code> is processed.</li>\n<li>Method reference integrity: If <code>method_ref</code> is present, the receiver MUST resolve it to a verified <code>PaymentMethodRecord</code> for the same <code>connectionId</code>; otherwise reject with <code>method-ref-invalid</code>.</li>\n<li>Correlation transparency: <code>mandate_id</code>/<code>cycle_id</code> MUST NOT alter financial validation; they only aid correlation/UX.</li>\n</ul>\n<h2 id=\"Errors-Problem-Report-codes\">Errors (Problem-Report codes)</h2>\n<p>Use standard DIDComm problem-report with these codes:</p>\n<ul>\n<li><code>unsupported-method</code>, <code>invalid-proof</code>, <code>request-expired</code>, <code>session-closed</code></li>\n<li><code>amount-mismatch</code>, <code>asset-unsupported</code>, <code>summary-hash-mismatch</code></li>\n<li><code>tx-not-found</code>, <code>tx-underpaid</code>, <code>tx-overpaid</code>, <code>confirmations-insufficient</code></li>\n<li><code>bank-ref-mismatch</code>, <code>duplicate-receipt</code></li>\n<li><code>compliance-required</code>, <code>vc-invalid</code>, <code>ivms101-missing</code></li>\n<li><code>method-ref-invalid</code>, <code>mandate-required</code>, <code>cycle-over-cap</code>, <code>retry-exhausted</code></li>\n</ul>\n<h2 id=\"Storage--Reuse-connection-scoped\">Storage &#x26; Reuse (connection-scoped)</h2>\n<h3 id=\"Suggested-Records\">Suggested Records</h3>\n<ul>\n<li>PaymentMethodRecord: <code>id</code>, <code>connectionId</code>, <code>code</code>, <code>variant</code>, <code>display</code>, <code>verified(bool)</code>, <code>default(bool)</code>, <code>status('unverified'|'verified'|'revoked'|'expired')</code>, <code>version</code>, <code>payload(ENCRYPTED JSON)</code>, <code>proof</code>, <code>tags</code></li>\n<li>PaymentSessionRecord: <code>sessionId</code>, <code>connectionId</code>, <code>requestId</code>, <code>state('requested'|'accepted'|'receipted'|'confirmed'|'failed')</code>, <code>selectedMethodId</code>, <code>termsSha256</code>, <code>nonce</code>, <code>quoteId?</code>, <code>confirmationsRequired?</code>, <code>expiresAt</code>, <code>vcVerified(bool)</code>, <code>ivmsVerified(bool)</code>, <code>stateReason?</code></li>\n<li>TaxProfileRecord (per connection): <code>connectionId</code>, <code>jurisdictions[]</code>, <code>defaultScheme</code>, <code>registrations{payee,payer}</code>, <code>lastValidatedAt</code></li>\n<li>CompliancePolicyRecord: <code>policyUri</code>, <code>vcRequirements[]</code>, <code>ivmsRequired(bool)</code>, <code>updatedAt</code></li>\n</ul>\n<h3 id=\"Reuse\">Reuse</h3>\n<ul>\n<li>Keep multiple <code>PaymentMethodRecord</code>s per connection; mark <code>default=true</code>.</li>\n<li>If a default exists, Payee MAY skip <code>query-methods</code> and send <code>handshake-request</code> directly.</li>\n<li>Payer may override in <code>handshake-accept</code>; Payee may reject via <code>problem-report</code>.</li>\n<li>When a default exists, the payee MAY use <code>method_ref</code> in <code>handshake-request</code> to avoid resending coordinates. The receiver MUST still enforce verification on the referenced record.</li>\n</ul>\n<h2 id=\"Mandates--Recurring-Payments-Optional-Profile\">Mandates &#x26; Recurring Payments (Optional Profile)</h2>\n<p>This profile specifies reusable payment authorizations (“mandates”) and recurring charges. Messages use the <code>https://didcomm.org/payments/1.0/*</code> prefix and compose with the base flow by referencing stored methods via <code>method_ref</code>, correlating with <code>mandate_id</code>/<code>cycle_id</code>, and invoking the standard <code>handshake-request → receipt → confirm</code> for each charge.</p>\n<h3 id=\"Discoverability-profile\">Discoverability (profile)</h3>\n<p>Advertise via Discover-Features: <code>subscriptions:autopay</code>, <code>subscriptions:notify</code>, <code>subscriptions:updates</code>, <code>subscriptions:retry</code>.</p>\n<h3 id=\"Mandate-lifecycle-messages\">Mandate lifecycle messages</h3>\n<p><code>mandate-offer</code> (Payee → Payer): Proposes subscription plan + constraints.</p>\n<pre><code class=\"language-json\">{\n  \"type\": \"https://didcomm.org/payments/1.0/mandate-offer\",\n  \"id\": \"mof-01...\",\n  \"to\": [\"did:peer:payer\"],\n  \"from\": \"did:peer:payee\",\n  \"body\": {\n    \"plan\": { \"name\": \"Pro Plan\", \"billing_period\": \"P1M\", \"anchor_day\": 1, \"start_at\": \"2025-09-15T00:00:00Z\", \"trial_until\": null, \"grace_period\": \"P7D\", \"retry_policy\": { \"attempts\": 3, \"interval\": \"P2D\" } },\n    \"terms\": { \"asset\": { \"caip19\":\"eip155:137/erc20:0x2791...4174\", \"decimals\": 6 }, \"price_quantity\": \"120000000\", \"display\": { \"currency\":\"USDC\", \"value\":\"120.00\" }, \"tax_policy\": \"GST\", \"tax_hints\": { \"jurisdiction\":\"CA\", \"place_of_supply\":\"CA-ON\" }, \"variable_pricing\": false },\n    \"constraints\": { \"cap_per_charge_quantity\": \"150000000\", \"cap_per_period_quantity\": \"600000000\", \"cap_total_quantity\": null, \"expires_at\": \"2027-09-15T00:00:00Z\" },\n    \"methods_allowed\": [ {\"code\":\"method:evm\",\"variant\":{\"chain\":\"eip155:137\"}}, {\"code\":\"method&#x3C;img class=\"emoji-icon\" alt=\"emoji-bank\" data-icon=\"emoji-bank\" style=\"\" src=\"data:image/png;base64, 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\" title=\"emoji-bank\" />iban\"} ],\n    \"autopay_requested\": true,\n    \"notify_days_before\": 3,\n    \"compliance_requirements\": { \"vc_requirements\":[{\"purpose\":\"legal-entity\",\"accepted_schemas\":[\"vlei:legal-entity\"]}], \"ivms101\": { \"required\": false } },\n    \"mandate_terms_sha256\": \"base64url(JCS(SHA-256(offer.body)))\"\n  }\n}\n</code></pre>\n<p><code>mandate-accept</code> (Payer → Payee): Chooses stored method by reference and consents.</p>\n<pre><code class=\"language-json\">{\n  \"type\": \"https://didcomm.org/payments/1.0/mandate-accept\",\n  \"id\": \"mac-01...\",\n  \"thid\": \"mof-01...\",\n  \"to\": [\"did:peer:payee\"],\n  \"from\": \"did:peer:payer\",\n  \"body\": {\n    \"mandate_id\": \"man_8f3a...\",\n    \"method_ref\": \"pm_abc123\",\n    \"autopay\": true,\n    \"limits\": { \"cap_per_charge_quantity\": \"150000000\" },\n    \"mandate_terms_sha256\": \"base64url(JCS(SHA-256(offer.body)))\",\n    \"consent_proof\": { \"type\": \"did-jws\", \"signature\": \"eyJhbGciOiJFZERTQSIs...\" }\n  }\n}\n</code></pre>\n<p><code>mandate-activate</code> (Payee → Payer): Confirms activation and sets the first due date.</p>\n<pre><code class=\"language-json\">{ \"type\": \"https://didcomm.org/payments/1.0/mandate-activate\", \"id\": \"mact-01...\", \"thid\": \"mof-01...\", \"body\": { \"mandate_id\":\"man_8f3a...\", \"status\":\"active\", \"next_due_at\":\"2025-10-15T00:00:00Z\" } }\n</code></pre>\n<p><code>mandate-update</code> / <code>mandate-cancel</code> (either direction): Propose changes or stop future cycles.</p>\n<pre><code class=\"language-json\">{ \"type\": \"https://didcomm.org/payments/1.0/mandate-update\", \"id\": \"mup-01...\", \"thid\": \"mof-01...\", \"body\": { \"mandate_id\":\"man_8f3a...\", \"changes\": { \"plan\": { \"billing_period\":\"P1Y\" } } } }\n</code></pre>\n<pre><code class=\"language-json\">{ \"type\": \"https://didcomm.org/payments/1.0/mandate-cancel\", \"id\": \"mcn-01...\", \"thid\": \"mof-01...\", \"body\": { \"mandate_id\":\"man_8f3a...\", \"when\":\"immediate|period_end\", \"reason\":\"user-request\" } }\n</code></pre>\n<p><code>subscription-status</code> (either direction): Synchronizes mandate status for UI/ops.</p>\n<pre><code class=\"language-json\">{\n  \"type\":\"https://didcomm.org/payments/1.0/subscription-status\",\n  \"id\":\"sst-01...\",\n  \"thid\":\"mof-01...\",\n  \"body\":{ \"mandate_id\":\"man_8f3a...\", \"status\":\"active|past_due|canceled|paused\", \"next_due_at\":\"2025-10-15T00:00:00Z\", \"last_paid_at\":\"2025-09-15T00:00:00Z\", \"past_due\": false, \"outstanding_cycles\": 0 }\n}\n</code></pre>\n<h4 id=\"Charge-messages\">Charge messages</h4>\n<p>Two modes reuse the base handshake flow.</p>\n<p><code>charge-notice</code> (Payee → Payer): Nudge before due date.</p>\n<pre><code class=\"language-json\">{\n  \"type\": \"https://didcomm.org/payments/1.0/charge-notice\",\n  \"id\": \"chn-01...\",\n  \"thid\":\"mof-01...\",\n  \"body\": { \"mandate_id\":\"man_8f3a...\", \"cycle_id\":\"2025-10\", \"due_at\":\"2025-10-15T00:00:00Z\", \"preview\": { \"display\": {\"currency\":\"USDC\",\"value\":\"120.00\"}, \"tax_estimate\": {\"amount\":\"21.60\"} } }\n}\n</code></pre>\n<p><code>charge-request</code> (Payee → Payer): Compact wrapper that results in a base <code>handshake-request</code>.</p>\n<pre><code class=\"language-json\">{\n  \"type\": \"https://didcomm.org/payments/1.0/charge-request\",\n  \"id\": \"chr-01...\",\n  \"thid\":\"mof-01...\",\n  \"body\": {\n    \"mandate_id\":\"man_8f3a...\",\n    \"cycle_id\":\"2025-10\",\n    \"method_ref\":\"pm_abc123\",\n    \"terms\": {\n      \"asset\": { \"caip19\":\"eip155:137/erc20:0x2791...4174\",\"decimals\":6 },\n      \"quantity\":\"120000000\",\n      \"display\": {\"currency\":\"USDC\",\"value\":\"120.00\"},\n      \"invoice\": { \"invoice_number\":\"INV-2025-10-0001\", \"line_items\":[{\"desc\":\"Pro Plan Oct\",\"qty\":\"1\",\"unit_price\":\"120.00\"}] },\n      \"tax\": { \"jurisdiction\":\"IN\", \"scheme\":\"GST\", \"lines\":[{\"code\":\"GST-IGST\",\"rate\":\"18.00\",\"basis\":\"120.00\",\"amount\":\"21.60\"}] },\n      \"network\": { \"chain\":\"eip155:137\", \"confirmations_required\":20 }\n    },\n    \"integrity\": { \"terms_sha256\":\"...\" }\n  }\n}\n</code></pre>\n<h3 id=\"Profile-Validation-and-Errors\">Profile Validation and Errors</h3>\n<ul>\n<li>Consent digest integrity: <code>mandate-accept.body.mandate_terms_sha256</code> MUST match the offer digest (JCS+SHA-256). <code>consent_proof</code> MUST bind <code>{did, mandate_id (or thid), timestamp}</code>.</li>\n<li>Per-cycle integrity: Every cycle terms MUST produce a <code>terms_sha256</code> that equals the <code>receipt.summary_hash</code>.</li>\n<li>Caps: Reject a cycle if it exceeds <code>cap_per_charge_quantity</code>, <code>cap_per_period_quantity</code>, or <code>cap_total_quantity</code>.</li>\n<li>Compliance freshness: If compliance VCs/IVMS are expired or missing, a fresh <code>compliance-request</code> MUST precede the next charge.</li>\n<li>Errors (adds to base): <code>mandate-invalid</code>, <code>mandate-consent-required</code>, <code>mandate-canceled</code>, <code>mandate-expired</code>, <code>cycle-over-cap</code>, <code>cycle-past-due</code>, <code>retry-exhausted</code>, <code>autopay-disabled</code>, <code>notify-required</code>, <code>method-ref-invalid</code>.</li>\n</ul>\n<h2 id=\"Implementations\">Implementations</h2>\n<table>\n<thead>\n<tr>\n<th>Name / Link</th>\n<th>Implementation Notes</th>\n</tr>\n</thead>\n</table>\n<h2 id=\"Endnotes\">Endnotes</h2>\n<h3 id=\"Future-Considerations\">Future Considerations</h3>\n<ul>\n<li>Refund and chargeback patterns</li>\n<li>Multi-party or split payments</li>\n<li>Escrowed settlement and dispute mediation</li>\n</ul>","frontmatter":{"title":"Payments","tags":["payments","commerce"],"license":"MIT","publisher":"vinaysingh8866","status":"Demonstrated","piuri":"https://didcomm.org/payments/1.0","summary":"A protocol for proposing, invoicing, and settling payments over DIDComm.","authors":[{"name":"Vinay Singh","email":"vinay@verid.id"}]},"fields":{"modifiedDate":"Mon Nov 17 2025 20:32:38 GMT+0000 (Coordinated Universal Time)","avatar":"https://avatars.githubusercontent.com/u/12121665?v=4&s=48","version":"1.0"}}},"pageContext":{"matchPath":"payments/1.0/*","id":"3612d6dc-26f4-56db-8dd9-9a89dc7dd0c0","html":"<h2 id=\"Summary\">Summary</h2>\n<p>A DIDComm v2 protocol for a secure payments handshake to propose, invoice, and settle off-rail payments. It enables:</p>\n<ul>\n<li>Introducing payment coordinates (e.g., bank or EVM) once with proof of control</li>\n<li>Negotiating how to pay and any tax/compliance preconditions</li>\n<li>Exchanging receipts without re-sending sensitive details</li>\n<li>Reusing stored methods per connection with sensible defaults</li>\n</ul>\n<h2 id=\"Motivation\">Motivation</h2>\n<p>Agents need interoperable, privacy-preserving payment interactions without embedding rails, custody, or FX into the protocol itself. This protocol standardizes messages, validation rules, and error taxonomy to coordinate payment terms and confirmations while keeping actual fund movement out-of-band (bank rails, on-chain transfers, PSPs). Non-goals include on-rail settlement and FX execution.</p>\n<h2 id=\"Version-Change-Log\">Version Change Log</h2>\n<h3 id=\"10\">1.0</h3>\n<ul>\n<li>Initial draft.</li>\n</ul>\n<h2 id=\"Roles\">Roles</h2>\n<ul>\n<li><code>payer</code>: The party that sends funds to settle an obligation.</li>\n<li><code>payee</code>: The party that receives funds.</li>\n</ul>\n<h2 id=\"Requirements-normative\">Requirements (normative)</h2>\n<ul>\n<li>All messages use standard DIDComm v2 encryption.</li>\n<li>Sign-then-encrypt is RECOMMENDED for <code>handshake-request</code>, <code>receipt</code>, and <code>confirm</code> for non-repudiation and auditability.</li>\n<li>Use standard DIDComm v2 message fields: <code>id</code>, <code>type</code>, <code>from</code>, <code>to</code>, <code>thid</code>, optional <code>pthid</code>, <code>created_time</code>.</li>\n<li>Sensitive coordinates and tax details MUST appear only in <code>handshake-request</code>.</li>\n<li>If external attachments/links are used, include a content hash (multihash/multibase) and optionally a detached JWS; receivers MUST verify hashes before use.</li>\n</ul>\n<h2 id=\"Discoverability\">Discoverability</h2>\n<p>Agents SHOULD advertise via Discover-Features:</p>\n<ul>\n<li>Protocol: <code>https://didcomm.org/payments/1.0</code></li>\n<li>Claims (capabilities): <code>method:evm</code>, <code>method&lt;img class=\"emoji-icon\" alt=\"emoji-bank\" data-icon=\"emoji-bank\" style=\"\" src=\"data:image/png;base64, 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\" title=\"emoji-bank\" /&gt;iban</code>, <code>method&lt;img class=\"emoji-icon\" alt=\"emoji-bank\" data-icon=\"emoji-bank\" style=\"\" src=\"data:image/png;base64, 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\" title=\"emoji-bank\" /&gt;upi</code>, …</li>\n<li>Optional: supported assets (CAIP-19), chains (CAIP-2), compliance features (e.g., <code>vc:legal-entity</code>, <code>ivms101</code>), quotes, refunds</li>\n<li>Subscriptions/profile claims: <code>subscriptions:autopay</code>, <code>subscriptions:notify</code>, <code>subscriptions:updates</code>, <code>subscriptions:retry</code></li>\n</ul>\n<h2 id=\"Data-Conventions-normative\">Data Conventions (normative)</h2>\n<h3 id=\"Assets--Amounts\">Assets &amp; Amounts</h3>\n<ul>\n<li>Identify assets with CAIP-19 (e.g., <code>eip155:137/erc20:0x…</code>).</li>\n<li>Amount carried as:\n<ul>\n<li><code>quantity</code> — atomic units as a string, canonical for validation.</li>\n<li><code>display</code> — UI-only object <code>{ \"currency\": \"&lt;code&gt;\", \"value\": \"&lt;decimal string&gt;\" }</code>.</li>\n</ul>\n</li>\n<li><code>decimals</code> MUST be supplied when not reliably derivable or to avoid live lookups.</li>\n</ul>\n<h3 id=\"Chains\">Chains</h3>\n<ul>\n<li>Identify networks with CAIP-2 (e.g., <code>eip155:1</code>, <code>eip155:137</code>).</li>\n</ul>\n<h3 id=\"Canonical-Hashing\">Canonical Hashing</h3>\n<ul>\n<li><code>terms_sha256</code> = SHA-256 over JCS-canonicalized <code>terms</code> JSON; base64url.</li>\n<li><code>receipt.summary_hash</code> MUST match <code>terms_sha256</code>.</li>\n</ul>\n<h3 id=\"Proofs-of-Control\">Proofs of Control</h3>\n<ul>\n<li>EVM: EIP-191 or EIP-712 signature over a challenge binding <code>{did, session.id, timestamp}</code>.</li>\n<li>Bank: pluggable proof (micro-deposit code, bank attestation, VC, Open-Banking consent ref).</li>\n</ul>\n<h3 id=\"Cross-protocol-correlation--extensions\">Cross-protocol correlation &amp; extensions</h3>\n<ul>\n<li>Optional correlation fields allowed in any message body: <code>mandate_id</code>, <code>cycle_id</code>, <code>quote_id</code>.</li>\n<li>Messages MAY include <code>ext</code> (object) for namespaced extensions. Keys SHOULD be reverse-DNS URIs and unknown keys MUST be ignored.</li>\n</ul>\n<h2 id=\"States\">States</h2>\n<p>State machine (base flow):</p>\n<pre><code>query-methods → methods (optional)\ncompliance-request → compliance-response (optional; REQUIRED if demanded)\nhandshake-request → requested\nhandshake-accept → accepted\nreceipt → receipted\nconfirm(received|pending|settled|failed) → terminal\ncancel or problem-report at any time → abandoned\n</code></pre>\n<p>Sessions expire at <code>session.ttl</code>; late receipts MUST be ignored and MAY elicit a problem-report (<code>session-closed</code>).</p>\n<h2 id=\"Basic-Walkthrough\">Basic Walkthrough</h2>\n<ol>\n<li>Discovery and Compliance (optional): <code>query-methods</code> → <code>methods</code> → <code>compliance-request</code> → <code>compliance-response</code></li>\n<li>Secure Reveal and Acceptance: <code>handshake-request</code> (coordinates, terms, invoice, tax) → <code>handshake-accept</code></li>\n<li>Off-rail Payment and Confirmation: Payer pays off-band → <code>receipt</code> (tx ref, summary hash) → <code>confirm</code> (received|pending|settled|failed)</li>\n</ol>\n<h2 id=\"Security\">Security</h2>\n<ul>\n<li><strong>Confidentiality &amp; Integrity</strong>: Standard DIDComm v2 encryption provides message confidentiality and integrity; place sensitive data only in <code>handshake-request</code>.</li>\n<li><strong>Non-repudiation</strong>: Sign-then-encrypt recommended for <code>handshake-request</code>, <code>receipt</code>, <code>confirm</code>.</li>\n<li><strong>Replay protection</strong>: Bind proofs to <code>{did, session.id, timestamp/nonce}</code>; enforce reasonable clock skew.</li>\n<li><strong>Data minimization</strong>: Receipts exclude coordinates and full terms; include only references and hashes.</li>\n<li><strong>DID/Key rotation</strong>: Require <code>thid</code> continuity; if <code>from</code>/<code>to</code> rotate, re-auth on next hop.</li>\n<li><strong>DoS prevention</strong>: Rate-limit concurrent sessions per connection; cap payload sizes; reject oversized attachments.</li>\n<li><strong>Privacy in logging</strong>: Redact coordinates, VCs, and IVMS data; log only hashes/IDs.</li>\n</ul>\n<h2 id=\"Message-Reference\">Message Reference</h2>\n<p>All examples are DIDComm JSON bodies (outer envelope omitted for brevity).</p>\n<h3 id=\"query-methods\">query-methods</h3>\n<p>Message Type URI: <code>https://didcomm.org/payments/1.0/query-methods</code></p>\n<pre><code class=\"language-json\">{\n  \"type\": \"https://didcomm.org/payments/1.0/query-methods\",\n  \"id\": \"q-93f...\",\n  \"to\": [\"did:peer:payee\"],\n  \"from\": \"did:peer:payer\",\n  \"body\": {\n    \"want\": [\"method:evm\", \"method&lt;img class=\"emoji-icon\" alt=\"emoji-bank\" data-icon=\"emoji-bank\" style=\"\" src=\"data:image/png;base64, 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\" title=\"emoji-bank\" /&gt;*\"],\n    \"meta\": {\n      \"purpose\": \"invoice|deposit|refund\",\n      \"amount\": { \"currency\": \"USD\", \"value\": \"120.00\" }\n    }\n  }\n}\n</code></pre>\n<h3 id=\"methods\">methods</h3>\n<p>Message Type URI: <code>https://didcomm.org/payments/1.0/methods</code></p>\n<pre><code class=\"language-json\">{\n  \"type\": \"https://didcomm.org/payments/1.0/methods\",\n  \"id\": \"m-2b1...\",\n  \"thid\": \"q-93f...\",\n  \"to\": [\"did:peer:payer\"],\n  \"from\": \"did:peer:payee\",\n  \"body\": {\n    \"supported\": [\n      { \"code\": \"method:evm\", \"variants\": [{ \"chain\": \"eip155:1\" }, { \"chain\": \"eip155:137\" }] },\n      { \"code\": \"method&lt;img class=\"emoji-icon\" alt=\"emoji-bank\" data-icon=\"emoji-bank\" style=\"\" src=\"data:image/png;base64, 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\" title=\"emoji-bank\" /&gt;iban\" },\n      { \"code\": \"method&lt;img class=\"emoji-icon\" alt=\"emoji-bank\" data-icon=\"emoji-bank\" style=\"\" src=\"data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAVlklEQVR4Xu2bB7SlVXn3f/ut5z3lnltm5s6dWi5TmBlhlBZRURMLKKjESFOTfKAsYSIQA0tWjDJgw4JoVKREAbuAfkK+yPgZoiwTQRQ0UqYpbSjTbjv1bXvv3Nnvueess2a4l8EIs5butfY69+zzPrs89f88+71Ca80fc7P4425/YoDD89z6i/4ZpcD+cODasYXQAAr9+0sSQWsukSTarjaT7+2qRRcfVAwQQgTDcwrfmN8fUPAcBBr9vzk/WWumip3j4ft7C95N4/X4voOGAUNl/5uDPTn6Cx6e/YexPgHktEJLaETp94AlTNOetyhQLrqvn1cONs4r5wh8G8EftkWJYlclZPtYeNlINbrkBdeAgmffnPcdpNY0Y8Ufummt8T2bUs7+UBCI65tN/egLxoCcI24pWpRGoohxAZrnrzVTEAn/LoRYrifb884AIUSpWAhWDK87nJ5yD7b9/EVerTT1RoOtDzzU39w9sgrY9IL4gJe98Y1vPeG0M255ydFH4+cLoA/ApQPoaX6b5pk0Ttj60IP86JabP3/bjdef94KZgOu6Pc3KBHG1hm85BMUCaLHPhpVMSZKENI5RSk1pEK7vk8vlAJCppFGv0RJc5xnXJ5fPnomjiCgMSaOIsDpBGEXFF9IJmkPJJAUhaNbrPPCre3EdB4QFHX0ll88zd8FC+ucM0qhMEEURruexZ8cOnnrsMSzHJpcLWLJiBTJJOj4myNOoVfnNfb9AxTHl/gEWDQ8jlUKmKTKODg4c4OcCtj14Pxec+jaKuRxaaFSStqRo4QU5CqUejj3+DZx54UV4QUC+UODWr32VL3z4UixgeNVKrtl4B1JKoyWe72O5Dpe/7wL+845/RwAf/MJVLFu9Gl2vo/VBhAQ12kh0xfAyevsH0Jl5kEpJs1pBaQDND75+A6M7d/DBq74EQLFUZPnSpeSLRfoH56JVi2m2TancxzUfvZQt9/2SlcuW8sa/PZNXn/gmmo3GQZgMaW16mkqzQS+X492XXMp7P/4J3vWhS1m8YqWx55WHruGhn9/Nbx94EN8PWjTpZE+QWoEGAfT393PHrd/l1uu/QqlY4rCXH8drTzmNOArRMqUtfnGwMABhnFeaJMYvRHHEnAULWbjsEI561Z/zutNOJwojEikRlqBRrWI5FkrplnNMkFIZJhV7e/nt5k188ZIPEeR8Bhcv4tT15xnfIpPkoMsGzcE12nxKKU03Uk1SkjghVyyYsTAMwbKMYysPzDLPTNEkxu5T4xuiMOQT7zufqFpl1tBc3n7BRcZ5NuvVdoTQrXXRB006bKGFIEmzcKcR9A0MUO7v46nHH+M7V3/JHKwyMcGJ73gnC5YuJY5jlFYkaYyb+oBFoaeHKy66iN/efz/lcpm3nHU2a446ktA4PX2wFkT0FPIiiWM0UK9UuO4TH+Oy9efy7te/lk33/pKe/n7efNZZnHrOuSQyBanRGuI4M5ugUOCWL3+ZjTd9k2JPDyec/naOP/V0wkYDKeXBWRCxXBdhWSBAKmU0QAPViQm+9oXPA1AMAhYsW8pfvfscTnrnO0iimPGREVRRoZQypmI7Do9s3cKv7r6bcm+fYaQSgqBYpNnYV/rmuxnTL6wG+K67OyiWcGwLwNh1FIV4nsdxr3s9R7/s5eSLBR7dspVPvf9C3vuXJ/Potq0mxAlhGRMwNGFIqdzLqsMPo1Gv4/g+N37us9z2tRvpmzUbIcT+D2nbB64BQghvXtm7Ouc5wnquCZwldH28ng6tXbu6b/AsHNcBbRhgDlCc18uFn74S13N4fNs2vnrlZ/jFnT/mnjt/wvo3n8TV/+92Vhx2GChNqhSNZsMAn/M/8nEueNvJVCYqlAoFPnPxRSxbsYqVLz6ciZE9negnwPU9kjRNDpgBc0r+5+eUg//Tm3exxXOtTwnGrZieYoFiTwnbtlFIUq2NcwvDJpaF0YQVLzqci664kvdNosSnH3uUifFxrr/ik1z5nZszxAgmWlQqFZatXcP6Sy7jkvecTaFYII5iLjnnXfzLD+/AD4omEoAw2lPs7WPPk08OHBADenyxauHs0tlDZZ9izkEI8RxTYdANGz/n4/g5g9y0AsDYdJpI8xmHEVI2mLd4MSvXrePhrVsQwO82baZerQGibTpGe8YrHHfiSZxx7nq+ftUXKRQKPPn4di77u3O5/PqvkkQ+SRIhTDgtUO7reasQYpXWevOzYkCp4N9UznlYlkWUKp5rs4QgTFNcBLZlGYlMqafUGmFB78AA+ULRAJ/K6Chb7v9vAHRmhi0fAAAKUGmKVBJZj3nHeRew7aEH+flPfoLvedw1mQvccOUVnP2PH2D30zsQaHKFAqVSiTzcBBw2IwP6AufMuX3BixwHoiRF/H7FEBqxItAKhEGBXZ66UWtw079cZ5jz9PbH+fl//AfbH3kYWwjDoLVHHmXgsozjNo1U0swRxSGe6/O+yz/Je9/yZnbteBqA6ycZMLxmDa9+w4mM7tmD43nk8wF5hxf1FZwzx+rpV56RAUKIXK/HdUnYZFxGPPcmMFFP2IyOKYpR2g43Snb8UWVinKsu20B3M9phUt7Tzz2XKGyYiDHVatUaUzgvjBrMnjuXiz/3uUnfcUqb/p/edSbX3r6R4ZWHElVrCNtBpiAcdZ0Q4pta63C/DCgUguuK5R7Ly/tox/p9YK85BFoR1nYhbRelJVKmJhucXIPAD8CypghQaOMk5y9ZyjGvehWv+cu3UiyVaNRqlMplE/4sx2bBsiXINGlrU61a5cUvPZb1H9rANyYxheM6xm9c/+lPs+FLV2NZAmwX7dsUyn1WbNevA96535LYa0855bGjTzhx0YJlw1iOs/+SkwBg2t/iJDaSGhsd5Xf33YcV1g20HejrR0uFQrd9RKdhxj3Px3Fck9GlaYJAoAVopRAAwkIAqpUVAmavjmOTxub5DDckCZ6fo5FE/OjmW3hq505mLVjAI7++7/Gf/utti/erAZbn1z3XJefYTO1NC2E2amI4tCaXCJ3ZuO06GKCgyKovWoMA27JxLAECg+S0VmiVHT7n+yBoZYYpGhCA5zhYQBKFZi4lFQCWZZn5srACti0AC6UgSaTJ/rSUJpxaLbCV2LZZF6WM9mEJbNfDdtz6M/oALTVaSsM9A13J7FgLRdioIdB7J8ByPKSUpsLbrNVb0hG4uQCVZtxXMjEhy/ymAcQUNqJeGQc0CNvU+6RURlWTRogyDNF4QR7RcpxKKdMNw21Bsx4ilALHMSYlpUAICJt1EyW0AM8PEG0Ip6ElBNA8MwO0bC8oyFpPOc+PN97JtZ+7CXIFlh8ywIbLLySMNFEz5MLzP04tsiCs8OFPXsCi4aUG4GSmpdFKgpaGEbnAZ9umraw/52MQFCkFihu+8jG8XECQc/m79ZezectOCBv8w8V/zRve9DrGxytMtSDv8/CWh1m//mOQ20uvJ+k/+oz0b3rL8dSbTbTS5vDmfNMxAOiEKt2yU61oag+WvgYGhqiJR7FUikChZEy9bw3MXgtPPESSamyh2jZr5mnbuTDSj6WGoT+Dhauo7nnQaJwFWEpSCRbCmpfB6FM0lIstujdro4mVhrkz0I9M0usMwSoBCECbPhMS1CgtuxigZYLtF2DZ0dizFuJXFFrGaG1nQGPeKvSSYwltH8t2UFIaU1Jag2rNo8WUDzDPsHgd/vCRWK5CIFu/peRmLUYUX4retR0naJi1zV46wnl29OXtuLkGUiXorn0AcsZsMLO7TldoNLg5hB+gLduMmd+URlgewsuBk+s4OgEC6OxdobMRhAAcH+HmwPWA1sNoLMtpjfvG3hEKBO3eFuPM9GDoO/toOd0ZNECDlqpbA6Y0QnUmkK1npGEOaC1afiaL/0oZRrQZJfYbN7M5u0cFGkBNk37qZ0uvu8SsNa1zTesENYhuH6C0IIpSmKgh3Sa1WrM9mZKKZqUOo43sd+mBUtDtR4DMBJQJexJGa4QjdRivImU2rjRMVGvouAajFcIwQdMtNaUhkemzpE+htSYZmgDT1TQaoEBJuqJApR5z1OohhoYcsMfoEUtpJppUpTiez8V/tZDY2Y04YoChOQ7NKG0zQKPBfAIIwkiyYGiAD/6Ni/JqBHIlbuCTpJnI3/+2NYwmCSLpZ+V8l2ot7b7pDRMWDs2epPdnpl/gUq0nCHR3UVZM7wT3iQJxnJLvyfPiWRkXY1Wm1kzbZrnykB5sEhRFqk1JKpUxA6Z6y/oRGWhxcj6vPGoIoSWSIpV6glISJWHtoXPxLA2iSK2pibrL26RS4h4QfZptoZOCgpo2DCo0sksDIKORTg4B2R2fjlE6Q2hSuGD7aAXQyGx/Si2V7tiemjIvULZv0GWGEONOuLRcdAtxatHcn9M6cHqtEVN02R/TRAHNPot65nJyFz+45XZu/95GfnXXvWbMsiwEip/+6E5u/7//nx/e9kOiRsOMa6ENI+h2OriOY4qXt3zr+9z09e+z8daNWJY2NL7v8Z8//hnf/vr3+PZXb+Hpp57E871uaT1Heg0ZIzJznMEJ6m4fkMs53P+bbXz3hrug1E95tuQlxxyOlBA1m9x4453gzYKxHSxcspDhlcvQoYapENqOJgrPtXnqiZ1ce8W/Qv88SEc45qVHkMsX8V3BVTdsZOzJBCrjqAs9Tj99GSNhJy3PeS6/2/rs6VeuWM7YRKUT0pWGmZCgMlzqPKhkDPk+OPoMGFiA1bgHlcZoMhVk+ath0bHw6K/RtpuFTTUFpvajv5YD694MS4+A7Xe1wq6CVOEsWAfDL4Hd2xF5F2QKuguqHxi9SuleXqGm0wCl94XCUSKZP7uHQ5aXsPIei/XsrCQlBbawOWL1HGolB8vvp6fgEidpax5lOtlc2Y2QlJRLeVZN0jDg0lOei+1mZe9YCY45dIgtaYDs72fRXIcwTbrS7zidoh98RvrNaYCaoo8TxL4oYQYnqFXHaQH1WsTK4Tkc8yIXSIjkMvZUMyzg2A7nnbwIx2qgGZocj4jDlA43u6KKCWOz5/RzzXmDCCSpPoI9tdhEhyQVnH/GEfiWRog+xpqSajVCCNotiqbo5+6f/vRJelvDFH096qh+ex/T+QBogYruKFCPU+qpbKMvlTHHSHRnLSRrAiU1QigwUaAbBeqOFNnVIGtKIVUn5x9tZOAFAGG1ahDdLdWwoxaCAiyBQLTNa6yZIiwAUGmWPitAiHYqMFM2uG/WJMwiiqQZIrTAch0sx0VLbXL4NIogO4QpfUsJsnUITZYUWdCWgi0ESb2RMceycXwPKZW5JgsbDcQB3ja6nk+p3GO0UcYRKk3QYIqpAses0y3h6UxAAiqL4RnvoFjIc9eP7+FbN/wQvDxLF5c4/+KziLUkiZt8ZMO1NGIXoupkDv5O5i9eQJTEWRhU3aEnF+zN57fx9xdcAbkSpUBy7TWXEsWJKWQsXrLUlMFmbp1S2MTIiLlEWTy57t+ffwVbtu2CsM55/3AGJ5z0WqphsyV+hVYz+gDQneoLZHl2Vg9YdgL0D1JNN4NKEGQlsEbfOph7GDyxiViCoJUIZSCoq9lCE6Uaho6FRWuo7vyN8exR2KReqRIPDpIcwMsNNpj3ABuNOhaSidxiWPtKGNlJXXnYolvceiYnaFAgLRDTYkCSxNhuDmYNQd8C3OYYKo2QqW3CndO3kHRgNTRjLKEMUuxkghkqxCA1w1wDZuhfCr2rsKIxBBipT1QmGKtUkKkEse8Fi9oPKrQti7GxMeM/kClezxywVoEq4vrSrNcRrG7va9p0uEtshsMxR62dz9FrA7RVRchhmnFqJOe4Ph99+xK0OwpyECFCkwxp2SmqdLygph7GLJg/iy9f2I+2LWx1FI7r4voBtVqVb37qctJm2HWbK4QglcocFvQ+lau1rziOQ488kkqY8pGzjiLGA7WMfE4xXm0ius8zfTqMmZQuDdBAakkcqwZKkwoLmWoAFCDsCCEbaGGRpq05OhvM6v3ojhSwKfc6IBRau8SJwvd9Fi1fxb0/+DdIYly/AAoskSVA4fgY+VKJXBAY8wSQaWLuBOYvX06x1EOSKPyiR9HSKGzixGpHK6bqk9qca3ofYDimuzltex75wAe0ST3rtWY2blsE+VymokKYcZUa6bdrgkIDnRK7kWShVDCSlVKSVGrGLObMmc28RUvoL/fSO3vAhDHLsQ32f2TTFuYtWUT/7NmkcZrdWYZN41Dnzh0i8H3DmHwhwHVcQFOvNw1u6BJ8JtxnToaMxLIXENvd8zwe2/YI1/zzN7jui99h42134LpOFmNlynduvJUvX30zN1z1bap77dG2jAmojJHmU7QQpuc45q2Pj2z4LB/e8M98/jPXgVJZ3d+2yeV8BgbnMDg0jzlDcyc/h5g1Z5B8sWBegJganzNvcnxoiKCQx3YcNBrfd/nWjd/lsg9+lg0fuILND24myActaE9Xej5tTbCjvln3XMH2J8d5cIvN/U/0c/cDI9iWNPX5NI646/4K/71jNr9+MGJ8vI5tiZbk9T4x2HVt9oyM818/3cl/bfLYeOd2kjgyDEDpTCPimGiyx3t7FJnviZSk2ffOeBgiZSvcCgvXhtt/9jA/e0Bw910TbH14B3nfPtCXpHS7sNnuMkbnSrD6jXD4KYjB1egkRqeZs2PRMbDuNDjkNcYPoFK0pq0BolUXQLSigePB8r+AF58Ki48BJZkyeNl6gbJZq9Go1yd7g7DZQCYxYbNJ3Yy1uzGHNhKUidkb606F1SdB0Gvm1nRB8plxgJmwA15ohCkrF/ajigH4EQPJIHGqSZU2UPXkY2cTFeqIeWUGem1TQRJKIjo5AFjZvHGSMNhf5uTXaVQRSquW4vouUmocB6MB0V4G1OsoU0K3aTZD0lQShSHh3kOnxgfsZYj5GwFoRZQqTnvVMNtTGx3N4rBhTT1MusUsZsQB2SZUJwoQhYq+/hxvmN8AqkQyz3gtBjLbfcUaD8fajsJhrOZld3Vao1vz6Mz7m8gRRgmFUo73nLQYS0tSvYyRSmh8ieV6SGkOag6nWr4hMgdNiKLIaIeUkg4DkjboaiaK41+xlMBWaPJMNFMajQidarSa4tMMyVBtfLy8+4knSKImaEMCott3IECIzvftmu5XYgA1Zcv1JvXxMRyteXjLQ+RLPRlGQHdrXOt/AkZHRmi6jnkZSqos10ji2NwyC8s2ap8xQGSv0U1MsHXTpux+ME33mdeybaIoZHT3bhr1KmK3sxdvlJ+RAZWRkXu3/PKeei4IpBCWBtAcYBOYQxqpK0nUaIJWhLf/G7btobqQWHe5a8ejjyAA13bal6daptTrNUb3jJiLWbQERAaho5g7b/s+NhZyP/PawjJ7mNizmziKxdhTO+04CTfTafzpn6f5425/YsD/ABtu93XHGByzAAAAAElFTkSuQmCC\" title=\"emoji-bank\" /&gt;upi\" }\n    ],\n    \"assets\": [ \"eip155:137/erc20:0x2791...4174\" ],\n    \"defaults\": { \"preferred\": \"method:evm\", \"variant\": { \"chain\": \"eip155:137\" } },\n    \"reusable_supported\": true,\n    \"subscriptions_supported\": true\n  }\n}\n</code></pre>\n<h3 id=\"compliance-request-optional\">compliance-request (optional)</h3>\n<p>Message Type URI: <code>https://didcomm.org/payments/1.0/compliance-request</code></p>\n<pre><code class=\"language-json\">{\n  \"type\": \"https://didcomm.org/payments/1.0/compliance-request\",\n  \"id\": \"crq-01...\",\n  \"thid\": \"hs-77c...\",\n  \"body\": {\n    \"vc_presentation_definition\": {},\n    \"ivms101_required\": false\n  }\n}\n</code></pre>\n<h3 id=\"compliance-response\">compliance-response</h3>\n<p>Message Type URI: <code>https://didcomm.org/payments/1.0/compliance-response</code></p>\n<pre><code class=\"language-json\">{\n  \"type\": \"https://didcomm.org/payments/1.0/compliance-response\",\n  \"id\": \"crs-01...\",\n  \"thid\": \"hs-77c...\",\n  \"body\": {\n    \"presentations~attach\": [\n      { \"media_type\": \"application/vc+ld+json\", \"data\": { \"base64\": \"&lt;verifiable presentation&gt;\" } }\n    ],\n    \"ivms101\": {}\n  }\n}\n</code></pre>\n<h3 id=\"handshake-request-single-secure-reveal\">handshake-request (single secure reveal)</h3>\n<p>Message Type URI: <code>https://didcomm.org/payments/1.0/handshake-request</code></p>\n<pre><code class=\"language-json\">{\n  \"type\": \"https://didcomm.org/payments/1.0/handshake-request\",\n  \"id\": \"hs-77c...\",\n  \"thid\": \"hs-77c...\",\n  \"pthid\": \"parent-protocol-id-if-any\",\n  \"to\": [\"did:peer:payer\"],\n  \"from\": \"did:peer:payee\",\n  \"body\": {\n    \"session\": { \"id\": \"ps_4a2c...\", \"ttl\": \"2025-12-31T23:59:59Z\", \"nonce\": \"n-0f...\" },\n    \"mandate_id\": \"man_8f3a...\",\n    \"cycle_id\": \"2025-10\",\n    \"ext\": {},\n    \"terms\": {\n      \"request_id\": \"req_7f9a...\",\n      \"asset\": { \"caip19\": \"eip155:137/erc20:0x2791...4174\", \"decimals\": 6 },\n      \"quantity\": \"120000000\",\n      \"display\": { \"currency\": \"USDC\", \"value\": \"120.00\" },\n      \"invoice\": {\n        \"invoice_number\": \"INV-2025-091\",\n        \"issue_date\": \"2025-08-31\",\n        \"due_date\": \"2025-09-07\",\n        \"line_items\": [{ \"desc\": \"Pro subscription (Sept)\", \"qty\": \"1\", \"unit_price\": \"120.00\", \"hsn_sac\": \"9983\" }],\n        \"discounts\": []\n      },\n      \"tax\": {\n        \"jurisdiction\": \"\",\n        \"scheme\": \"GST\",\n        \"place_of_supply\": \"\",\n        \"registration\": { \"payee\": \"\", \"payer\": null },\n        \"lines\": [{ \"code\": \"GST-IGST\", \"rate\": \"18.00\", \"basis\": \"120.00\", \"amount\": \"21.60\" }],\n        \"reverse_charge\": false,\n        \"exempt_reason\": null\n      },\n      \"network\": { \"chain\": \"eip155:137\", \"confirmations_required\": 20 },\n      \"fees\": { \"payer\": \"payer\" },\n      \"partial_allowed\": false,\n      \"tolerance\": { \"under\": \"0.00\", \"over\": \"0.00\" }\n    },\n    \"payee_coords\": {\n      \"method\": \"method:evm\",\n      \"evm\": {\n        \"address\": \"0xABCD...\",\n        \"chain\": \"eip155:137\",\n        \"wallet_type\": \"EOA\",\n        \"proof\": { \"type\": \"EIP-712\", \"challenge\": \"did:peer:payee|ps_4a2c...|2025-08-31T14:00Z\", \"signature\": \"0x...\" }\n      }\n    },\n    \"method_ref\": \"pm_abc123\",\n    \"compliance\": {\n      \"policy_uri\": \"https://example.com/policy/aml-tax-v1\",\n      \"vc_requirements\": [{ \"purpose\": \"legal-entity\", \"accepted_schemas\": [\"vlei:legal-entity\", \"org-reg:tax-id\"] }],\n      \"ivms101\": { \"required\": false }\n    },\n    \"integrity\": { \"terms_sha256\": \"base64url(JCS(SHA-256(terms)))\" }\n  }\n}\n</code></pre>\n<h3 id=\"handshake-accept\">handshake-accept</h3>\n<p>Message Type URI: <code>https://didcomm.org/payments/1.0/handshake-accept</code></p>\n<pre><code class=\"language-json\">{\n  \"type\": \"https://didcomm.org/payments/1.0/handshake-accept\",\n  \"id\": \"ha-5d0...\",\n  \"thid\": \"hs-77c...\",\n  \"to\": [\"did:peer:payee\"],\n  \"from\": \"did:peer:payer\",\n  \"body\": {\n    \"session\": { \"id\": \"ps_4a2c...\" },\n    \"selected\": { \"method\": \"method:evm\", \"variant\": { \"chain\": \"eip155:137\" } }\n  }\n}\n</code></pre>\n<h3 id=\"receipt\">receipt</h3>\n<p>Message Type URI: <code>https://didcomm.org/payments/1.0/receipt</code></p>\n<pre><code class=\"language-json\">{\n  \"type\": \"https://didcomm.org/payments/1.0/receipt\",\n  \"id\": \"rcpt-2a77...\",\n  \"thid\": \"hs-77c...\",\n  \"to\": [\"did:peer:payee\"],\n  \"from\": \"did:peer:payer\",\n  \"body\": {\n    \"session_id\": \"ps_4a2c...\",\n    \"request_id\": \"req_7f9a...\",\n    \"mandate_id\": \"man_8f3a...\",\n    \"cycle_id\": \"2025-10\",\n    \"ext\": {},\n    \"proofs\": [\n      {\n        \"network\": { \"chain\": \"eip155:137\" },\n        \"tx_ref\": \"0xTRANSACTION_HASH\",\n        \"summary_hash\": \"same-as-terms_sha256\",\n        \"payer_hint\": { \"evm_from\": \"0x12..34\", \"masked_bank\": \"****1234\" },\n        \"payer_proof\": { \"type\": \"EIP-191\", \"challenge\": \"did:peer:payer|ps_4a2c...|rcpt-2a77...\", \"signature\": \"0x...\" }\n      }\n    ]\n  }\n}\n</code></pre>\n<p>Idempotency: A receipt is unique per <code>{session_id, tx_ref}</code>; duplicates MUST be accepted as no-ops.</p>\n<h3 id=\"confirm\">confirm</h3>\n<p>Message Type URI: <code>https://didcomm.org/payments/1.0/confirm</code></p>\n<pre><code class=\"language-json\">{\n  \"type\": \"https://didcomm.org/payments/1.0/confirm\",\n  \"id\": \"ack-88de...\",\n  \"thid\": \"hs-77c...\",\n  \"to\": [\"did:peer:payer\"],\n  \"from\": \"did:peer:payee\",\n  \"body\": {\n    \"session_id\": \"ps_4a2c...\",\n    \"status\": \"received|pending|settled|failed\",\n    \"reason\": null,\n    \"mandate_id\": \"man_8f3a...\",\n    \"cycle_id\": \"2025-10\",\n    \"ext\": {}\n  }\n}\n</code></pre>\n<h3 id=\"cancel\">cancel</h3>\n<p>Message Type URI: <code>https://didcomm.org/payments/1.0/cancel</code></p>\n<pre><code class=\"language-json\">{\n  \"type\": \"https://didcomm.org/payments/1.0/cancel\",\n  \"id\": \"cn-01...\",\n  \"thid\": \"hs-77c...\",\n  \"body\": { \"session_id\": \"ps_4a2c...\", \"reason\": \"user-cancelled\" }\n}\n</code></pre>\n<h3 id=\"method-update-and-method-revoke\">method-update and method-revoke</h3>\n<p>Message Type URIs: <code>https://didcomm.org/payments/1.0/method-update</code>, <code>https://didcomm.org/payments/1.0/method-revoke</code></p>\n<pre><code class=\"language-json\">{\n  \"type\": \"https://didcomm.org/payments/1.0/method-update\",\n  \"id\": \"mu-01...\",\n  \"to\": [\"did:peer:counterparty\"],\n  \"from\": \"did:peer:owner\",\n  \"body\": {\n    \"method_id\": \"pm_abc123\",\n    \"code\": \"method&lt;img class=\"emoji-icon\" alt=\"emoji-bank\" data-icon=\"emoji-bank\" style=\"\" src=\"data:image/png;base64, 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\" title=\"emoji-bank\" /&gt;iban\",\n    \"variant\": { \"region\": \"EU\" },\n    \"payee_coords\": { \"bank\": { \"scheme\": \"iban\", \"iban\": \"DE89...\", \"bic\": \"COBADE...\", \"name\": \"Acme\", \"proof\": {} } },\n    \"reason\": \"rotation\"\n  }\n}\n</code></pre>\n<pre><code class=\"language-json\">{\n  \"type\": \"https://didcomm.org/payments/1.0/method-revoke\",\n  \"id\": \"mr-01...\",\n  \"to\": [\"did:peer:counterparty\"],\n  \"from\": \"did:peer:owner\",\n  \"body\": { \"method_id\": \"pm_abc123\", \"reason\": \"account-closed\" }\n}\n</code></pre>\n<h3 id=\"Quotes--refunds\">Quotes &amp; refunds</h3>\n<ul>\n<li><code>quote</code> — payee issues a firm quote with <code>quote_id</code>, <code>expires_at</code>; payer MUST echo <code>quote_id</code> in <code>receipt</code>.</li>\n<li><code>refund-request</code> / <code>refund-receipt</code> — mirror receipt semantics, referencing original <code>session_id</code>.</li>\n</ul>\n<h2 id=\"L10n\">L10n</h2>\n<p>Localization applies to human-readable fields (e.g., invoice <code>memo</code>, error <code>comment</code>). Protocol validation uses canonical, language-agnostic fields.</p>\n<h2 id=\"Validation-Rules-normative\">Validation Rules (normative)</h2>\n<ul>\n<li>Replay/anti-phishing: Proofs MUST bind to <code>{did, session.id, timestamp/nonce}</code>; enforce reasonable clock skew.</li>\n<li>Tax math: Receiver MUST recompute tax from <code>terms.invoice</code> &amp; <code>terms.tax</code> and verify <code>summary_hash</code>.</li>\n<li>Payer binding: If the rail reveals payer (e.g., EVM <code>from</code>), <code>payer_proof</code> is OPTIONAL; otherwise include <code>payer_proof</code> or rely on bank API identity.</li>\n<li>Amounts: Validate using <code>asset.caip19</code> + <code>quantity</code> only (never the UI <code>display</code> field).</li>\n<li>Confirmations: Respect <code>network.confirmations_required</code> when deciding settled vs received/pending.</li>\n<li>Compliance gating: If <code>vc_requirements</code>/<code>ivms101</code> present, no <code>handshake-accept</code> until a valid <code>compliance-response</code> is processed.</li>\n<li>Method reference integrity: If <code>method_ref</code> is present, the receiver MUST resolve it to a verified <code>PaymentMethodRecord</code> for the same <code>connectionId</code>; otherwise reject with <code>method-ref-invalid</code>.</li>\n<li>Correlation transparency: <code>mandate_id</code>/<code>cycle_id</code> MUST NOT alter financial validation; they only aid correlation/UX.</li>\n</ul>\n<h2 id=\"Errors-Problem-Report-codes\">Errors (Problem-Report codes)</h2>\n<p>Use standard DIDComm problem-report with these codes:</p>\n<ul>\n<li><code>unsupported-method</code>, <code>invalid-proof</code>, <code>request-expired</code>, <code>session-closed</code></li>\n<li><code>amount-mismatch</code>, <code>asset-unsupported</code>, <code>summary-hash-mismatch</code></li>\n<li><code>tx-not-found</code>, <code>tx-underpaid</code>, <code>tx-overpaid</code>, <code>confirmations-insufficient</code></li>\n<li><code>bank-ref-mismatch</code>, <code>duplicate-receipt</code></li>\n<li><code>compliance-required</code>, <code>vc-invalid</code>, <code>ivms101-missing</code></li>\n<li><code>method-ref-invalid</code>, <code>mandate-required</code>, <code>cycle-over-cap</code>, <code>retry-exhausted</code></li>\n</ul>\n<h2 id=\"Storage--Reuse-connection-scoped\">Storage &amp; Reuse (connection-scoped)</h2>\n<h3 id=\"Suggested-Records\">Suggested Records</h3>\n<ul>\n<li>PaymentMethodRecord: <code>id</code>, <code>connectionId</code>, <code>code</code>, <code>variant</code>, <code>display</code>, <code>verified(bool)</code>, <code>default(bool)</code>, <code>status('unverified'|'verified'|'revoked'|'expired')</code>, <code>version</code>, <code>payload(ENCRYPTED JSON)</code>, <code>proof</code>, <code>tags</code></li>\n<li>PaymentSessionRecord: <code>sessionId</code>, <code>connectionId</code>, <code>requestId</code>, <code>state('requested'|'accepted'|'receipted'|'confirmed'|'failed')</code>, <code>selectedMethodId</code>, <code>termsSha256</code>, <code>nonce</code>, <code>quoteId?</code>, <code>confirmationsRequired?</code>, <code>expiresAt</code>, <code>vcVerified(bool)</code>, <code>ivmsVerified(bool)</code>, <code>stateReason?</code></li>\n<li>TaxProfileRecord (per connection): <code>connectionId</code>, <code>jurisdictions[]</code>, <code>defaultScheme</code>, <code>registrations{payee,payer}</code>, <code>lastValidatedAt</code></li>\n<li>CompliancePolicyRecord: <code>policyUri</code>, <code>vcRequirements[]</code>, <code>ivmsRequired(bool)</code>, <code>updatedAt</code></li>\n</ul>\n<h3 id=\"Reuse\">Reuse</h3>\n<ul>\n<li>Keep multiple <code>PaymentMethodRecord</code>s per connection; mark <code>default=true</code>.</li>\n<li>If a default exists, Payee MAY skip <code>query-methods</code> and send <code>handshake-request</code> directly.</li>\n<li>Payer may override in <code>handshake-accept</code>; Payee may reject via <code>problem-report</code>.</li>\n<li>When a default exists, the payee MAY use <code>method_ref</code> in <code>handshake-request</code> to avoid resending coordinates. The receiver MUST still enforce verification on the referenced record.</li>\n</ul>\n<h2 id=\"Mandates--Recurring-Payments-Optional-Profile\">Mandates &amp; Recurring Payments (Optional Profile)</h2>\n<p>This profile specifies reusable payment authorizations (“mandates”) and recurring charges. Messages use the <code>https://didcomm.org/payments/1.0/*</code> prefix and compose with the base flow by referencing stored methods via <code>method_ref</code>, correlating with <code>mandate_id</code>/<code>cycle_id</code>, and invoking the standard <code>handshake-request → receipt → confirm</code> for each charge.</p>\n<h3 id=\"Discoverability-profile\">Discoverability (profile)</h3>\n<p>Advertise via Discover-Features: <code>subscriptions:autopay</code>, <code>subscriptions:notify</code>, <code>subscriptions:updates</code>, <code>subscriptions:retry</code>.</p>\n<h3 id=\"Mandate-lifecycle-messages\">Mandate lifecycle messages</h3>\n<p><code>mandate-offer</code> (Payee → Payer): Proposes subscription plan + constraints.</p>\n<pre><code class=\"language-json\">{\n  \"type\": \"https://didcomm.org/payments/1.0/mandate-offer\",\n  \"id\": \"mof-01...\",\n  \"to\": [\"did:peer:payer\"],\n  \"from\": \"did:peer:payee\",\n  \"body\": {\n    \"plan\": { \"name\": \"Pro Plan\", \"billing_period\": \"P1M\", \"anchor_day\": 1, \"start_at\": \"2025-09-15T00:00:00Z\", \"trial_until\": null, \"grace_period\": \"P7D\", \"retry_policy\": { \"attempts\": 3, \"interval\": \"P2D\" } },\n    \"terms\": { \"asset\": { \"caip19\":\"eip155:137/erc20:0x2791...4174\", \"decimals\": 6 }, \"price_quantity\": \"120000000\", \"display\": { \"currency\":\"USDC\", \"value\":\"120.00\" }, \"tax_policy\": \"GST\", \"tax_hints\": { \"jurisdiction\":\"CA\", \"place_of_supply\":\"CA-ON\" }, \"variable_pricing\": false },\n    \"constraints\": { \"cap_per_charge_quantity\": \"150000000\", \"cap_per_period_quantity\": \"600000000\", \"cap_total_quantity\": null, \"expires_at\": \"2027-09-15T00:00:00Z\" },\n    \"methods_allowed\": [ {\"code\":\"method:evm\",\"variant\":{\"chain\":\"eip155:137\"}}, {\"code\":\"method&lt;img class=\"emoji-icon\" alt=\"emoji-bank\" data-icon=\"emoji-bank\" style=\"\" src=\"data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAVlklEQVR4Xu2bB7SlVXn3f/ut5z3lnltm5s6dWi5TmBlhlBZRURMLKKjESFOTfKAsYSIQA0tWjDJgw4JoVKREAbuAfkK+yPgZoiwTQRQ0UqYpbSjTbjv1bXvv3Nnvueess2a4l8EIs5butfY69+zzPrs89f88+71Ca80fc7P4425/YoDD89z6i/4ZpcD+cODasYXQAAr9+0sSQWsukSTarjaT7+2qRRcfVAwQQgTDcwrfmN8fUPAcBBr9vzk/WWumip3j4ft7C95N4/X4voOGAUNl/5uDPTn6Cx6e/YexPgHktEJLaETp94AlTNOetyhQLrqvn1cONs4r5wh8G8EftkWJYlclZPtYeNlINbrkBdeAgmffnPcdpNY0Y8Ufummt8T2bUs7+UBCI65tN/egLxoCcI24pWpRGoohxAZrnrzVTEAn/LoRYrifb884AIUSpWAhWDK87nJ5yD7b9/EVerTT1RoOtDzzU39w9sgrY9IL4gJe98Y1vPeG0M255ydFH4+cLoA/ApQPoaX6b5pk0Ttj60IP86JabP3/bjdef94KZgOu6Pc3KBHG1hm85BMUCaLHPhpVMSZKENI5RSk1pEK7vk8vlAJCppFGv0RJc5xnXJ5fPnomjiCgMSaOIsDpBGEXFF9IJmkPJJAUhaNbrPPCre3EdB4QFHX0ll88zd8FC+ucM0qhMEEURruexZ8cOnnrsMSzHJpcLWLJiBTJJOj4myNOoVfnNfb9AxTHl/gEWDQ8jlUKmKTKODg4c4OcCtj14Pxec+jaKuRxaaFSStqRo4QU5CqUejj3+DZx54UV4QUC+UODWr32VL3z4UixgeNVKrtl4B1JKoyWe72O5Dpe/7wL+845/RwAf/MJVLFu9Gl2vo/VBhAQ12kh0xfAyevsH0Jl5kEpJs1pBaQDND75+A6M7d/DBq74EQLFUZPnSpeSLRfoH56JVi2m2TancxzUfvZQt9/2SlcuW8sa/PZNXn/gmmo3GQZgMaW16mkqzQS+X492XXMp7P/4J3vWhS1m8YqWx55WHruGhn9/Nbx94EN8PWjTpZE+QWoEGAfT393PHrd/l1uu/QqlY4rCXH8drTzmNOArRMqUtfnGwMABhnFeaJMYvRHHEnAULWbjsEI561Z/zutNOJwojEikRlqBRrWI5FkrplnNMkFIZJhV7e/nt5k188ZIPEeR8Bhcv4tT15xnfIpPkoMsGzcE12nxKKU03Uk1SkjghVyyYsTAMwbKMYysPzDLPTNEkxu5T4xuiMOQT7zufqFpl1tBc3n7BRcZ5NuvVdoTQrXXRB006bKGFIEmzcKcR9A0MUO7v46nHH+M7V3/JHKwyMcGJ73gnC5YuJY5jlFYkaYyb+oBFoaeHKy66iN/efz/lcpm3nHU2a446ktA4PX2wFkT0FPIiiWM0UK9UuO4TH+Oy9efy7te/lk33/pKe/n7efNZZnHrOuSQyBanRGuI4M5ugUOCWL3+ZjTd9k2JPDyec/naOP/V0wkYDKeXBWRCxXBdhWSBAKmU0QAPViQm+9oXPA1AMAhYsW8pfvfscTnrnO0iimPGREVRRoZQypmI7Do9s3cKv7r6bcm+fYaQSgqBYpNnYV/rmuxnTL6wG+K67OyiWcGwLwNh1FIV4nsdxr3s9R7/s5eSLBR7dspVPvf9C3vuXJ/Potq0mxAlhGRMwNGFIqdzLqsMPo1Gv4/g+N37us9z2tRvpmzUbIcT+D2nbB64BQghvXtm7Ouc5wnquCZwldH28ng6tXbu6b/AsHNcBbRhgDlCc18uFn74S13N4fNs2vnrlZ/jFnT/mnjt/wvo3n8TV/+92Vhx2GChNqhSNZsMAn/M/8nEueNvJVCYqlAoFPnPxRSxbsYqVLz6ciZE9negnwPU9kjRNDpgBc0r+5+eUg//Tm3exxXOtTwnGrZieYoFiTwnbtlFIUq2NcwvDJpaF0YQVLzqci664kvdNosSnH3uUifFxrr/ik1z5nZszxAgmWlQqFZatXcP6Sy7jkvecTaFYII5iLjnnXfzLD+/AD4omEoAw2lPs7WPPk08OHBADenyxauHs0tlDZZ9izkEI8RxTYdANGz/n4/g5g9y0AsDYdJpI8xmHEVI2mLd4MSvXrePhrVsQwO82baZerQGibTpGe8YrHHfiSZxx7nq+ftUXKRQKPPn4di77u3O5/PqvkkQ+SRIhTDgtUO7reasQYpXWevOzYkCp4N9UznlYlkWUKp5rs4QgTFNcBLZlGYlMqafUGmFB78AA+ULRAJ/K6Chb7v9vAHRmhi0fAAAKUGmKVBJZj3nHeRew7aEH+flPfoLvedw1mQvccOUVnP2PH2D30zsQaHKFAqVSiTzcBBw2IwP6AufMuX3BixwHoiRF/H7FEBqxItAKhEGBXZ66UWtw079cZ5jz9PbH+fl//AfbH3kYWwjDoLVHHmXgsozjNo1U0swRxSGe6/O+yz/Je9/yZnbteBqA6ycZMLxmDa9+w4mM7tmD43nk8wF5hxf1FZwzx+rpV56RAUKIXK/HdUnYZFxGPPcmMFFP2IyOKYpR2g43Snb8UWVinKsu20B3M9phUt7Tzz2XKGyYiDHVatUaUzgvjBrMnjuXiz/3uUnfcUqb/p/edSbX3r6R4ZWHElVrCNtBpiAcdZ0Q4pta63C/DCgUguuK5R7Ly/tox/p9YK85BFoR1nYhbRelJVKmJhucXIPAD8CypghQaOMk5y9ZyjGvehWv+cu3UiyVaNRqlMplE/4sx2bBsiXINGlrU61a5cUvPZb1H9rANyYxheM6xm9c/+lPs+FLV2NZAmwX7dsUyn1WbNevA96535LYa0855bGjTzhx0YJlw1iOs/+SkwBg2t/iJDaSGhsd5Xf33YcV1g20HejrR0uFQrd9RKdhxj3Px3Fck9GlaYJAoAVopRAAwkIAqpUVAmavjmOTxub5DDckCZ6fo5FE/OjmW3hq505mLVjAI7++7/Gf/utti/erAZbn1z3XJefYTO1NC2E2amI4tCaXCJ3ZuO06GKCgyKovWoMA27JxLAECg+S0VmiVHT7n+yBoZYYpGhCA5zhYQBKFZi4lFQCWZZn5srACti0AC6UgSaTJ/rSUJpxaLbCV2LZZF6WM9mEJbNfDdtz6M/oALTVaSsM9A13J7FgLRdioIdB7J8ByPKSUpsLbrNVb0hG4uQCVZtxXMjEhy/ymAcQUNqJeGQc0CNvU+6RURlWTRogyDNF4QR7RcpxKKdMNw21Bsx4ilALHMSYlpUAICJt1EyW0AM8PEG0Ip6ElBNA8MwO0bC8oyFpPOc+PN97JtZ+7CXIFlh8ywIbLLySMNFEz5MLzP04tsiCs8OFPXsCi4aUG4GSmpdFKgpaGEbnAZ9umraw/52MQFCkFihu+8jG8XECQc/m79ZezectOCBv8w8V/zRve9DrGxytMtSDv8/CWh1m//mOQ20uvJ+k/+oz0b3rL8dSbTbTS5vDmfNMxAOiEKt2yU61oag+WvgYGhqiJR7FUikChZEy9bw3MXgtPPESSamyh2jZr5mnbuTDSj6WGoT+Dhauo7nnQaJwFWEpSCRbCmpfB6FM0lIstujdro4mVhrkz0I9M0usMwSoBCECbPhMS1CgtuxigZYLtF2DZ0dizFuJXFFrGaG1nQGPeKvSSYwltH8t2UFIaU1Jag2rNo8WUDzDPsHgd/vCRWK5CIFu/peRmLUYUX4retR0naJi1zV46wnl29OXtuLkGUiXorn0AcsZsMLO7TldoNLg5hB+gLduMmd+URlgewsuBk+s4OgEC6OxdobMRhAAcH+HmwPWA1sNoLMtpjfvG3hEKBO3eFuPM9GDoO/toOd0ZNECDlqpbA6Y0QnUmkK1npGEOaC1afiaL/0oZRrQZJfYbN7M5u0cFGkBNk37qZ0uvu8SsNa1zTesENYhuH6C0IIpSmKgh3Sa1WrM9mZKKZqUOo43sd+mBUtDtR4DMBJQJexJGa4QjdRivImU2rjRMVGvouAajFcIwQdMtNaUhkemzpE+htSYZmgDT1TQaoEBJuqJApR5z1OohhoYcsMfoEUtpJppUpTiez8V/tZDY2Y04YoChOQ7NKG0zQKPBfAIIwkiyYGiAD/6Ni/JqBHIlbuCTpJnI3/+2NYwmCSLpZ+V8l2ot7b7pDRMWDs2epPdnpl/gUq0nCHR3UVZM7wT3iQJxnJLvyfPiWRkXY1Wm1kzbZrnykB5sEhRFqk1JKpUxA6Z6y/oRGWhxcj6vPGoIoSWSIpV6glISJWHtoXPxLA2iSK2pibrL26RS4h4QfZptoZOCgpo2DCo0sksDIKORTg4B2R2fjlE6Q2hSuGD7aAXQyGx/Si2V7tiemjIvULZv0GWGEONOuLRcdAtxatHcn9M6cHqtEVN02R/TRAHNPot65nJyFz+45XZu/95GfnXXvWbMsiwEip/+6E5u/7//nx/e9kOiRsOMa6ENI+h2OriOY4qXt3zr+9z09e+z8daNWJY2NL7v8Z8//hnf/vr3+PZXb+Hpp57E871uaT1Heg0ZIzJznMEJ6m4fkMs53P+bbXz3hrug1E95tuQlxxyOlBA1m9x4453gzYKxHSxcspDhlcvQoYapENqOJgrPtXnqiZ1ce8W/Qv88SEc45qVHkMsX8V3BVTdsZOzJBCrjqAs9Tj99GSNhJy3PeS6/2/rs6VeuWM7YRKUT0pWGmZCgMlzqPKhkDPk+OPoMGFiA1bgHlcZoMhVk+ath0bHw6K/RtpuFTTUFpvajv5YD694MS4+A7Xe1wq6CVOEsWAfDL4Hd2xF5F2QKuguqHxi9SuleXqGm0wCl94XCUSKZP7uHQ5aXsPIei/XsrCQlBbawOWL1HGolB8vvp6fgEidpax5lOtlc2Y2QlJRLeVZN0jDg0lOei+1mZe9YCY45dIgtaYDs72fRXIcwTbrS7zidoh98RvrNaYCaoo8TxL4oYQYnqFXHaQH1WsTK4Tkc8yIXSIjkMvZUMyzg2A7nnbwIx2qgGZocj4jDlA43u6KKCWOz5/RzzXmDCCSpPoI9tdhEhyQVnH/GEfiWRog+xpqSajVCCNotiqbo5+6f/vRJelvDFH096qh+ex/T+QBogYruKFCPU+qpbKMvlTHHSHRnLSRrAiU1QigwUaAbBeqOFNnVIGtKIVUn5x9tZOAFAGG1ahDdLdWwoxaCAiyBQLTNa6yZIiwAUGmWPitAiHYqMFM2uG/WJMwiiqQZIrTAch0sx0VLbXL4NIogO4QpfUsJsnUITZYUWdCWgi0ESb2RMceycXwPKZW5JgsbDcQB3ja6nk+p3GO0UcYRKk3QYIqpAses0y3h6UxAAiqL4RnvoFjIc9eP7+FbN/wQvDxLF5c4/+KziLUkiZt8ZMO1NGIXoupkDv5O5i9eQJTEWRhU3aEnF+zN57fx9xdcAbkSpUBy7TWXEsWJKWQsXrLUlMFmbp1S2MTIiLlEWTy57t+ffwVbtu2CsM55/3AGJ5z0WqphsyV+hVYz+gDQneoLZHl2Vg9YdgL0D1JNN4NKEGQlsEbfOph7GDyxiViCoJUIZSCoq9lCE6Uaho6FRWuo7vyN8exR2KReqRIPDpIcwMsNNpj3ABuNOhaSidxiWPtKGNlJXXnYolvceiYnaFAgLRDTYkCSxNhuDmYNQd8C3OYYKo2QqW3CndO3kHRgNTRjLKEMUuxkghkqxCA1w1wDZuhfCr2rsKIxBBipT1QmGKtUkKkEse8Fi9oPKrQti7GxMeM/kClezxywVoEq4vrSrNcRrG7va9p0uEtshsMxR62dz9FrA7RVRchhmnFqJOe4Ph99+xK0OwpyECFCkwxp2SmqdLygph7GLJg/iy9f2I+2LWx1FI7r4voBtVqVb37qctJm2HWbK4QglcocFvQ+lau1rziOQ488kkqY8pGzjiLGA7WMfE4xXm0ius8zfTqMmZQuDdBAakkcqwZKkwoLmWoAFCDsCCEbaGGRpq05OhvM6v3ojhSwKfc6IBRau8SJwvd9Fi1fxb0/+DdIYly/AAoskSVA4fgY+VKJXBAY8wSQaWLuBOYvX06x1EOSKPyiR9HSKGzixGpHK6bqk9qca3ofYDimuzltex75wAe0ST3rtWY2blsE+VymokKYcZUa6bdrgkIDnRK7kWShVDCSlVKSVGrGLObMmc28RUvoL/fSO3vAhDHLsQ32f2TTFuYtWUT/7NmkcZrdWYZN41Dnzh0i8H3DmHwhwHVcQFOvNw1u6BJ8JtxnToaMxLIXENvd8zwe2/YI1/zzN7jui99h42134LpOFmNlynduvJUvX30zN1z1bap77dG2jAmojJHmU7QQpuc45q2Pj2z4LB/e8M98/jPXgVJZ3d+2yeV8BgbnMDg0jzlDcyc/h5g1Z5B8sWBegJganzNvcnxoiKCQx3YcNBrfd/nWjd/lsg9+lg0fuILND24myActaE9Xej5tTbCjvln3XMH2J8d5cIvN/U/0c/cDI9iWNPX5NI646/4K/71jNr9+MGJ8vI5tiZbk9T4x2HVt9oyM818/3cl/bfLYeOd2kjgyDEDpTCPimGiyx3t7FJnviZSk2ffOeBgiZSvcCgvXhtt/9jA/e0Bw910TbH14B3nfPtCXpHS7sNnuMkbnSrD6jXD4KYjB1egkRqeZs2PRMbDuNDjkNcYPoFK0pq0BolUXQLSigePB8r+AF58Ki48BJZkyeNl6gbJZq9Go1yd7g7DZQCYxYbNJ3Yy1uzGHNhKUidkb606F1SdB0Gvm1nRB8plxgJmwA15ohCkrF/ajigH4EQPJIHGqSZU2UPXkY2cTFeqIeWUGem1TQRJKIjo5AFjZvHGSMNhf5uTXaVQRSquW4vouUmocB6MB0V4G1OsoU0K3aTZD0lQShSHh3kOnxgfsZYj5GwFoRZQqTnvVMNtTGx3N4rBhTT1MusUsZsQB2SZUJwoQhYq+/hxvmN8AqkQyz3gtBjLbfcUaD8fajsJhrOZld3Vao1vz6Mz7m8gRRgmFUo73nLQYS0tSvYyRSmh8ieV6SGkOag6nWr4hMgdNiKLIaIeUkg4DkjboaiaK41+xlMBWaPJMNFMajQidarSa4tMMyVBtfLy8+4knSKImaEMCott3IECIzvftmu5XYgA1Zcv1JvXxMRyteXjLQ+RLPRlGQHdrXOt/AkZHRmi6jnkZSqos10ji2NwyC8s2ap8xQGSv0U1MsHXTpux+ME33mdeybaIoZHT3bhr1KmK3sxdvlJ+RAZWRkXu3/PKeei4IpBCWBtAcYBOYQxqpK0nUaIJWhLf/G7btobqQWHe5a8ejjyAA13bal6daptTrNUb3jJiLWbQERAaho5g7b/s+NhZyP/PawjJ7mNizmziKxdhTO+04CTfTafzpn6f5425/YsD/ABtu93XHGByzAAAAAElFTkSuQmCC\" title=\"emoji-bank\" /&gt;iban\"} ],\n    \"autopay_requested\": true,\n    \"notify_days_before\": 3,\n    \"compliance_requirements\": { \"vc_requirements\":[{\"purpose\":\"legal-entity\",\"accepted_schemas\":[\"vlei:legal-entity\"]}], \"ivms101\": { \"required\": false } },\n    \"mandate_terms_sha256\": \"base64url(JCS(SHA-256(offer.body)))\"\n  }\n}\n</code></pre>\n<p><code>mandate-accept</code> (Payer → Payee): Chooses stored method by reference and consents.</p>\n<pre><code class=\"language-json\">{\n  \"type\": \"https://didcomm.org/payments/1.0/mandate-accept\",\n  \"id\": \"mac-01...\",\n  \"thid\": \"mof-01...\",\n  \"to\": [\"did:peer:payee\"],\n  \"from\": \"did:peer:payer\",\n  \"body\": {\n    \"mandate_id\": \"man_8f3a...\",\n    \"method_ref\": \"pm_abc123\",\n    \"autopay\": true,\n    \"limits\": { \"cap_per_charge_quantity\": \"150000000\" },\n    \"mandate_terms_sha256\": \"base64url(JCS(SHA-256(offer.body)))\",\n    \"consent_proof\": { \"type\": \"did-jws\", \"signature\": \"eyJhbGciOiJFZERTQSIs...\" }\n  }\n}\n</code></pre>\n<p><code>mandate-activate</code> (Payee → Payer): Confirms activation and sets the first due date.</p>\n<pre><code class=\"language-json\">{ \"type\": \"https://didcomm.org/payments/1.0/mandate-activate\", \"id\": \"mact-01...\", \"thid\": \"mof-01...\", \"body\": { \"mandate_id\":\"man_8f3a...\", \"status\":\"active\", \"next_due_at\":\"2025-10-15T00:00:00Z\" } }\n</code></pre>\n<p><code>mandate-update</code> / <code>mandate-cancel</code> (either direction): Propose changes or stop future cycles.</p>\n<pre><code class=\"language-json\">{ \"type\": \"https://didcomm.org/payments/1.0/mandate-update\", \"id\": \"mup-01...\", \"thid\": \"mof-01...\", \"body\": { \"mandate_id\":\"man_8f3a...\", \"changes\": { \"plan\": { \"billing_period\":\"P1Y\" } } } }\n</code></pre>\n<pre><code class=\"language-json\">{ \"type\": \"https://didcomm.org/payments/1.0/mandate-cancel\", \"id\": \"mcn-01...\", \"thid\": \"mof-01...\", \"body\": { \"mandate_id\":\"man_8f3a...\", \"when\":\"immediate|period_end\", \"reason\":\"user-request\" } }\n</code></pre>\n<p><code>subscription-status</code> (either direction): Synchronizes mandate status for UI/ops.</p>\n<pre><code class=\"language-json\">{\n  \"type\":\"https://didcomm.org/payments/1.0/subscription-status\",\n  \"id\":\"sst-01...\",\n  \"thid\":\"mof-01...\",\n  \"body\":{ \"mandate_id\":\"man_8f3a...\", \"status\":\"active|past_due|canceled|paused\", \"next_due_at\":\"2025-10-15T00:00:00Z\", \"last_paid_at\":\"2025-09-15T00:00:00Z\", \"past_due\": false, \"outstanding_cycles\": 0 }\n}\n</code></pre>\n<h4 id=\"Charge-messages\">Charge messages</h4>\n<p>Two modes reuse the base handshake flow.</p>\n<p><code>charge-notice</code> (Payee → Payer): Nudge before due date.</p>\n<pre><code class=\"language-json\">{\n  \"type\": \"https://didcomm.org/payments/1.0/charge-notice\",\n  \"id\": \"chn-01...\",\n  \"thid\":\"mof-01...\",\n  \"body\": { \"mandate_id\":\"man_8f3a...\", \"cycle_id\":\"2025-10\", \"due_at\":\"2025-10-15T00:00:00Z\", \"preview\": { \"display\": {\"currency\":\"USDC\",\"value\":\"120.00\"}, \"tax_estimate\": {\"amount\":\"21.60\"} } }\n}\n</code></pre>\n<p><code>charge-request</code> (Payee → Payer): Compact wrapper that results in a base <code>handshake-request</code>.</p>\n<pre><code class=\"language-json\">{\n  \"type\": \"https://didcomm.org/payments/1.0/charge-request\",\n  \"id\": \"chr-01...\",\n  \"thid\":\"mof-01...\",\n  \"body\": {\n    \"mandate_id\":\"man_8f3a...\",\n    \"cycle_id\":\"2025-10\",\n    \"method_ref\":\"pm_abc123\",\n    \"terms\": {\n      \"asset\": { \"caip19\":\"eip155:137/erc20:0x2791...4174\",\"decimals\":6 },\n      \"quantity\":\"120000000\",\n      \"display\": {\"currency\":\"USDC\",\"value\":\"120.00\"},\n      \"invoice\": { \"invoice_number\":\"INV-2025-10-0001\", \"line_items\":[{\"desc\":\"Pro Plan Oct\",\"qty\":\"1\",\"unit_price\":\"120.00\"}] },\n      \"tax\": { \"jurisdiction\":\"IN\", \"scheme\":\"GST\", \"lines\":[{\"code\":\"GST-IGST\",\"rate\":\"18.00\",\"basis\":\"120.00\",\"amount\":\"21.60\"}] },\n      \"network\": { \"chain\":\"eip155:137\", \"confirmations_required\":20 }\n    },\n    \"integrity\": { \"terms_sha256\":\"...\" }\n  }\n}\n</code></pre>\n<h3 id=\"Profile-Validation-and-Errors\">Profile Validation and Errors</h3>\n<ul>\n<li>Consent digest integrity: <code>mandate-accept.body.mandate_terms_sha256</code> MUST match the offer digest (JCS+SHA-256). <code>consent_proof</code> MUST bind <code>{did, mandate_id (or thid), timestamp}</code>.</li>\n<li>Per-cycle integrity: Every cycle terms MUST produce a <code>terms_sha256</code> that equals the <code>receipt.summary_hash</code>.</li>\n<li>Caps: Reject a cycle if it exceeds <code>cap_per_charge_quantity</code>, <code>cap_per_period_quantity</code>, or <code>cap_total_quantity</code>.</li>\n<li>Compliance freshness: If compliance VCs/IVMS are expired or missing, a fresh <code>compliance-request</code> MUST precede the next charge.</li>\n<li>Errors (adds to base): <code>mandate-invalid</code>, <code>mandate-consent-required</code>, <code>mandate-canceled</code>, <code>mandate-expired</code>, <code>cycle-over-cap</code>, <code>cycle-past-due</code>, <code>retry-exhausted</code>, <code>autopay-disabled</code>, <code>notify-required</code>, <code>method-ref-invalid</code>.</li>\n</ul>\n<h2 id=\"Implementations\">Implementations</h2>\n<table>\n<thead>\n<tr>\n<th>Name / Link</th>\n<th>Implementation Notes</th>\n</tr>\n</thead>\n</table>\n<h2 id=\"Endnotes\">Endnotes</h2>\n<h3 id=\"Future-Considerations\">Future Considerations</h3>\n<ul>\n<li>Refund and chargeback patterns</li>\n<li>Multi-party or split payments</li>\n<li>Escrowed settlement and dispute mediation</li>\n</ul>"}},
    "staticQueryHashes": ["3000541721","3766577012"],
    "matchPath": "payments/1.0/*"}